{
  "version": 4,
  "terraform_version": "0.13.7",
  "serial": 525,
  "lineage": "8f1462d1-5ee7-44e6-b52c-c6b2a5dfc246",
  "outputs": {
    "cpc-alb-target-group-internet-frontend": {
      "value": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-internal-9443/d418a1fac413c213",
      "type": "string"
    },
    "cpc-back-alb": {
      "value": "sg-b6c76cca",
      "type": "string"
    },
    "cpc-back-sg-id": {
      "value": "sg-0c6298c097b75219c",
      "type": "string"
    },
    "cpc-batch-sg-id": {
      "value": "sg-0737e84aeb236f07f",
      "type": "string"
    },
    "cpc-batch_efs_id": {
      "value": "fs-bf43d48b",
      "type": "string"
    },
    "cpc-db-sg-id": {
      "value": "sg-89c66df5",
      "type": "string"
    },
    "cpc-front-sg-id": {
      "value": "sg-0d3332285e95d0e17",
      "type": "string"
    },
    "cpc_dvsa_internet_alb_dns_name": {
      "value": "tars-opsdev-cpc-dvsa-internet-2065130450.eu-west-1.elb.amazonaws.com",
      "type": "string"
    },
    "cpc_dvsa_internet_alb_zone_id": {
      "value": "Z32O12XQLNTSW2",
      "type": "string"
    },
    "cpc_dvsa_internet_listener_arn": {
      "value": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-dvsa-internet/7e4ab2cb6ea7b97b/5934379773747f3e",
      "type": "string"
    },
    "cpc_dvsa_internet_sg_id": {
      "value": "sg-030be28a13b81c5a0",
      "type": "string"
    },
    "subnet_cidrs_cpc_backend": {
      "value": [
        "subnet-d54ec6b3",
        "subnet-cfd84387",
        "subnet-f9408aa3"
      ],
      "type": [
        "tuple",
        [
          "string",
          "string",
          "string"
        ]
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_acm_certificate",
      "name": "cpc_front_dvsa_internet",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:acm:eu-west-1:652856684323:certificate/b4d60b74-4d24-431f-a655-29e56b702483",
            "domain": "*.dvsa.tars.dev-dvsacloud.uk",
            "id": "arn:aws:acm:eu-west-1:652856684323:certificate/b4d60b74-4d24-431f-a655-29e56b702483",
            "key_types": null,
            "most_recent": false,
            "statuses": [
              "ISSUED"
            ],
            "tags": {},
            "types": null
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_acm_certificate",
      "name": "cpc_tars_dvsa_aws",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:acm:eu-west-1:652856684323:certificate/b4d60b74-4d24-431f-a655-29e56b702483",
            "domain": "*.dvsa.tars.dev-dvsacloud.uk",
            "id": "arn:aws:acm:eu-west-1:652856684323:certificate/b4d60b74-4d24-431f-a655-29e56b702483",
            "key_types": null,
            "most_recent": false,
            "statuses": [
              "ISSUED"
            ],
            "tags": {},
            "types": null
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_acm_certificate",
      "name": "cpc_tars_dvsacloud_uk",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:acm:eu-west-1:652856684323:certificate/b4d60b74-4d24-431f-a655-29e56b702483",
            "domain": "*.dvsa.tars.dev-dvsacloud.uk",
            "id": "arn:aws:acm:eu-west-1:652856684323:certificate/b4d60b74-4d24-431f-a655-29e56b702483",
            "key_types": null,
            "most_recent": false,
            "statuses": [
              "ISSUED"
            ],
            "tags": {},
            "types": null
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_acm_certificate",
      "name": "nonprod_tars_dvsacloud_uk",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:acm:eu-west-1:652856684323:certificate/b4d60b74-4d24-431f-a655-29e56b702483",
            "domain": "*.dvsa.tars.dev-dvsacloud.uk",
            "id": "arn:aws:acm:eu-west-1:652856684323:certificate/b4d60b74-4d24-431f-a655-29e56b702483",
            "key_types": null,
            "most_recent": false,
            "statuses": [
              "ISSUED"
            ],
            "tags": {},
            "types": null
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_ami",
      "name": "cpc-back",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architecture": "x86_64",
            "arn": "arn:aws:ec2:eu-west-1::image/ami-03e80ef443531ca1a",
            "block_device_mappings": [
              {
                "device_name": "/dev/xvda",
                "ebs": {
                  "delete_on_termination": "true",
                  "encrypted": "false",
                  "iops": "3000",
                  "snapshot_id": "snap-0cbae6abb7354f6ec",
                  "throughput": "125",
                  "volume_size": "16",
                  "volume_type": "gp3"
                },
                "no_device": "",
                "virtual_name": ""
              }
            ],
            "creation_date": "2021-08-12T11:46:12.000Z",
            "description": null,
            "ena_support": true,
            "executable_users": null,
            "filter": [
              {
                "name": "name",
                "values": [
                  "tars-amzn2-cpc-back/63cd3b29-744a9223"
                ]
              },
              {
                "name": "state",
                "values": [
                  "available"
                ]
              }
            ],
            "hypervisor": "xen",
            "id": "ami-03e80ef443531ca1a",
            "image_id": "ami-03e80ef443531ca1a",
            "image_location": "645711882182/tars-amzn2-cpc-back/63cd3b29-744a9223",
            "image_owner_alias": null,
            "image_type": "machine",
            "kernel_id": null,
            "most_recent": true,
            "name": "tars-amzn2-cpc-back/63cd3b29-744a9223",
            "name_regex": null,
            "owner_id": "645711882182",
            "owners": [
              "652856684323",
              "645711882182"
            ],
            "platform": null,
            "platform_details": "Linux/UNIX",
            "product_codes": [],
            "public": false,
            "ramdisk_id": null,
            "root_device_name": "/dev/xvda",
            "root_device_type": "ebs",
            "root_snapshot_id": "snap-0cbae6abb7354f6ec",
            "sriov_net_support": "simple",
            "state": "available",
            "state_reason": {
              "code": "UNSET",
              "message": "UNSET"
            },
            "tags": {},
            "usage_operation": "RunInstances",
            "virtualization_type": "hvm"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_ami",
      "name": "cpc-batch",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architecture": "x86_64",
            "arn": "arn:aws:ec2:eu-west-1::image/ami-007a146332acaeb06",
            "block_device_mappings": [
              {
                "device_name": "/dev/xvda",
                "ebs": {
                  "delete_on_termination": "true",
                  "encrypted": "false",
                  "iops": "3000",
                  "snapshot_id": "snap-08942100c5304612d",
                  "throughput": "125",
                  "volume_size": "16",
                  "volume_type": "gp3"
                },
                "no_device": "",
                "virtual_name": ""
              }
            ],
            "creation_date": "2021-08-12T11:46:16.000Z",
            "description": null,
            "ena_support": true,
            "executable_users": null,
            "filter": [
              {
                "name": "name",
                "values": [
                  "tars-amzn2-cpc-batch/63cd3b29-744a9223"
                ]
              },
              {
                "name": "state",
                "values": [
                  "available"
                ]
              }
            ],
            "hypervisor": "xen",
            "id": "ami-007a146332acaeb06",
            "image_id": "ami-007a146332acaeb06",
            "image_location": "645711882182/tars-amzn2-cpc-batch/63cd3b29-744a9223",
            "image_owner_alias": null,
            "image_type": "machine",
            "kernel_id": null,
            "most_recent": true,
            "name": "tars-amzn2-cpc-batch/63cd3b29-744a9223",
            "name_regex": null,
            "owner_id": "645711882182",
            "owners": [
              "652856684323",
              "645711882182"
            ],
            "platform": null,
            "platform_details": "Linux/UNIX",
            "product_codes": [],
            "public": false,
            "ramdisk_id": null,
            "root_device_name": "/dev/xvda",
            "root_device_type": "ebs",
            "root_snapshot_id": "snap-08942100c5304612d",
            "sriov_net_support": "simple",
            "state": "available",
            "state_reason": {
              "code": "UNSET",
              "message": "UNSET"
            },
            "tags": {},
            "usage_operation": "RunInstances",
            "virtualization_type": "hvm"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_ami",
      "name": "cpc-front",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architecture": "x86_64",
            "arn": "arn:aws:ec2:eu-west-1::image/ami-0a53b8cfd20906282",
            "block_device_mappings": [
              {
                "device_name": "/dev/xvda",
                "ebs": {
                  "delete_on_termination": "true",
                  "encrypted": "false",
                  "iops": "3000",
                  "snapshot_id": "snap-08765dc789b3a7ec2",
                  "throughput": "125",
                  "volume_size": "16",
                  "volume_type": "gp3"
                },
                "no_device": "",
                "virtual_name": ""
              }
            ],
            "creation_date": "2021-08-12T11:45:53.000Z",
            "description": null,
            "ena_support": true,
            "executable_users": null,
            "filter": [
              {
                "name": "name",
                "values": [
                  "tars-amzn2-cpc-front/63cd3b29-744a9223"
                ]
              },
              {
                "name": "state",
                "values": [
                  "available"
                ]
              }
            ],
            "hypervisor": "xen",
            "id": "ami-0a53b8cfd20906282",
            "image_id": "ami-0a53b8cfd20906282",
            "image_location": "645711882182/tars-amzn2-cpc-front/63cd3b29-744a9223",
            "image_owner_alias": null,
            "image_type": "machine",
            "kernel_id": null,
            "most_recent": true,
            "name": "tars-amzn2-cpc-front/63cd3b29-744a9223",
            "name_regex": null,
            "owner_id": "645711882182",
            "owners": [
              "652856684323",
              "645711882182"
            ],
            "platform": null,
            "platform_details": "Linux/UNIX",
            "product_codes": [],
            "public": false,
            "ramdisk_id": null,
            "root_device_name": "/dev/xvda",
            "root_device_type": "ebs",
            "root_snapshot_id": "snap-08765dc789b3a7ec2",
            "sriov_net_support": "simple",
            "state": "available",
            "state_reason": {
              "code": "UNSET",
              "message": "UNSET"
            },
            "tags": {},
            "usage_operation": "RunInstances",
            "virtualization_type": "hvm"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_availability_zones",
      "name": "available",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "all_availability_zones": null,
            "exclude_names": null,
            "exclude_zone_ids": null,
            "filter": null,
            "group_names": [
              "eu-west-1"
            ],
            "id": "eu-west-1",
            "names": [
              "eu-west-1a",
              "eu-west-1b",
              "eu-west-1c"
            ],
            "state": null,
            "zone_ids": [
              "euw1-az1",
              "euw1-az2",
              "euw1-az3"
            ]
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "652856684323",
            "arn": "arn:aws:sts::652856684323:assumed-role/tars-nonprod-ctrl-jenkinsctrl-20180403122511377400000002/i-015be186f652f5330",
            "id": "652856684323",
            "user_id": "AROAITHA4GDJAJLN5ZDE4:i-015be186f652f5330"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_ssm_parameter",
      "name": "cpc_rds_password",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ssm:eu-west-1:652856684323:parameter/opsdev/cpcdb/admin/password",
            "id": "/opsdev/cpcdb/admin/password",
            "name": "/opsdev/cpcdb/admin/password",
            "type": "SecureString",
            "value": "YwBWc8HvweT3Lun8",
            "version": 1,
            "with_decryption": true
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "cloudinit_config",
      "name": "cpc-back",
      "provider": "provider[\"registry.terraform.io/hashicorp/cloudinit\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base64_encode": true,
            "boundary": "MIMEBOUNDARY",
            "gzip": true,
            "id": "2545818206",
            "part": [
              {
                "content": "#cloud-config\nbootcmd:\n  - \"echo '[INFO] Applying bootcmd...'\"\n  - \"hostname cpc-back-$INSTANCE_ID.opsdev.tars.dev-dvsacloud.uk\"\n  - \"sed -i \\\"1i$(curl -fs http://169.254.169.254/latest/meta-data/local-ipv4) cpc-back-$INSTANCE_ID.opsdev.tars.dev-dvsacloud.uk cpc-back-$INSTANCE_ID\\\" /etc/hosts\"\n  - \"sed -i -e '/HOSTNAME=/d' /etc/sysconfig/network\"\n  - \"echo \\\"HOSTNAME=cpc-back-$INSTANCE_ID.opsdev.tars.dev-dvsacloud.uk\\\" \u003e\u003e /etc/sysconfig/network\"\nruncmd:\n  - \"echo '[INFO] Applying runcmd...'\"\n  - \"/etc/init.d/iptables stop\"\n  - \"/sbin/chkconfig iptables off\"\npreserve_hostname: true\nrepo_upgrade: none\nfinal_message: \"[INFO] System configuration finished!\"\n\n",
                "content_type": "text/cloud-config",
                "filename": "",
                "merge_type": ""
              },
              {
                "content": "#!/bin/bash +x\n\nfunction log () {\n  case $1 in\n    \"INFO\")\n      LOG_COLOR=\"\\033[96m\";;\n    \"ERROR\")\n      LOG_COLOR=\"\\033[31m\";;\n    \"WARN\")\n      LOG_COLOR=\"\\033[93m\" ;;\n    \"SUCCESS\")\n      LOG_COLOR=\"\\033[32m\" ;;\n    *)\n      LOG_COLOR=\"\\033[1m\" ;;\n  esac\n\n  echo -e \"${LOG_COLOR} [$(date)] ${1}: $2\\033[0m\" | tee -a \"/var/log/bootstrap.log\"\n}\n\nfunction error () {\n  log \"ERROR\" \"$1\"\n  exit\n}\n\n# Python is the best bet to safely escape the log data\n# for json consumption. json is a std python lib so \n# minimal dependency requirements\nfunction json_escape () {\n    printf '%s' \"$1\" | python -c 'import json,sys; print(json.dumps(sys.stdin.read()))'\n}\n\nexport aws=\"$(which aws || echo '/usr/bin/aws')\";\nexport curl=\"$(which curl || echo '/usr/bin/curl')\";\n\n# Instance ID begets all things...\nlog 'INFO' 'Retrieving Instance ID from Metadata';\ninstance_id=\"$(${curl} -s http://169.254.169.254/latest/meta-data/instance-id)\";\nif [ ${?} -ne 0 ]; then\n  error \"Failed to retrieve Instance ID\";\nfi\nlog 'INFO' \"Instance ID: ${instance_id}\";\n\n# Get Current AWS Region in order to do anything useful...\nlog 'INFO' 'Retrieving Instance Identity Document from Metadata';\ninstance_identity_document=\"$(${curl} -s http://169.254.169.254/latest/dynamic/instance-identity/document)\";\nif [ ${?} -ne 0 ]; then\n  error \"${curl} -s http://169.254.169.254/latest/dynamic/instance-identity/document\";\nelse\n  log 'INFO' 'Instance Identity Document Retrieved';\n\n  region=\"$(echo \"${instance_identity_document}\" | jq -r .region)\";\n\n  if [ ${?} -ne 0 ]; then\n    error 'jq: Instance Identity Document could not be parsed for current Region';\n  else\n    log 'INFO' \"Region retrieved: ${region}\";\n  fi;\n\n  # Make it available to the AWS cli; who needs to specify the region manually on every single call(?)\n  export AWS_DEFAULT_REGION=\"${region}\";\nfi;\n\n# Get the Autoscaling Group Name - it's a bit dirty but it works.\nasg_name=\"$(${aws} autoscaling describe-auto-scaling-instances \\\n  --instance \"${instance_id}\" \\\n  --output json \\\n  | jq -r .AutoScalingInstances[0].AutoScalingGroupName)\";\n\nif [ ${?} -ne 0 ]; then\n  error 'Failed to retrieve the autoscaling group name for this instance';\nelse\n  log 'INFO' \"ASG name retrieved: ${asg_name}\";\nfi;\n\n# Get the Launching LifeCycle Hook Name for this ASG (Making the assumption there's only one hook!)\nlifecycle_hook_name=\"$(${aws} autoscaling describe-lifecycle-hooks \\\n  --auto-scaling-group-name \"${asg_name}\" \\\n  --output json \\\n  | jq -r '.LifecycleHooks[] | select(.LifecycleTransition==\"autoscaling:EC2_INSTANCE_LAUNCHING\") | .LifecycleHookName')\";\n\nif [ ${?} -ne 0 ]; then\n  error \"Failed to retrieve lifecycle hook name for the autoscaling:EC2_INSTANCE_LAUNCHING transition for the autoscaling group named: ${asg_name}\";\nelse\n  log 'INFO' \"Lifecycle hook name retrieved: ${lifecycle_hook_name}\"\nfi;\n\n# Prerequisite information gathered - begin bootstrapping\n\nBOOTSTRAP_SUCCESS=1\n\nsed -E -i \"s/'[a-z0-9]{8}\\-[a-z0-9]{4}\\-[a-z0-9]{4}\\-[a-f0-9]{4}\\-[a-z0-9]{12}'/'791140e3-1c70-4d21-943f-007c92c1e17d'/g\" /etc/eyaml/config.yaml\n\n# Shift this to cloud-init config yaml\nfacts_path=\"/opt/puppetlabs/facter/facts.d\"\necho -n 'environment: opsdev'    \u003e \"${facts_path}/environment.yaml\"\necho -n 'nodetype: cpc-back'          \u003e \"${facts_path}/nodetype.yaml\"\necho -n 'aws_account: 652856684323' \u003e \"${facts_path}/aws_account.yaml\"\necho -n 'domain: nonprod.tars.dev-dvsacloud.uk' \u003e \"${facts_path}/domain.yaml\"\n\ncd /opt/packer-puppet-masterless\n\nlog 'INFO' 'Running puppet to configure environment'\n\n/opt/puppetlabs/bin/puppet apply \\\n  --verbose \\\n  --detailed-exitcodes \\\n  --modulepath='/opt/packer-puppet-masterless/module-0:/opt/packer-puppet-masterless/module-1' \\\n  --hiera_config='/opt/packer-puppet-masterless/hiera.yaml' \\\n  /opt/packer-puppet-masterless/manifests/site.pp\n\ncase ${?} in\n  6|4|1)\n    log \"ERROR\" \"Puppet run failed with exit code ${?}\"\n    BOOTSTRAP_SUCCESS=0 ;;\n  *)\n    log \"INFO\" \"Puppet run completed\" ;;\nesac\n\nif [ ${BOOTSTRAP_SUCCESS} -eq 1 ]; then\n  log 'SUCCESS' 'Bootstrap complete for nodetype: cpc-back'\nelse\n  log 'ERROR' 'Bootstrap abandon for nodetype: cpc-back'\nfi\n\nsed -i -e \"s|production|opsdev|g\" /opt/aws/amazon-cloudwatch-agent/etc/amazon-cloudwatch-agent.toml\n/etc/init.d/cloudwatch restart\n\n# Sure would be lovely if date could give unix time \n# in milliseconds\ntimestamp=$(($(date +'%s * 1000 + %-N / 1000000')))\nlog_data=\"$(json_escape \"$(cat /var/log/cloud-init-output.log)\")\"\n\necho \"\"\"\n[\n  {\n    \\\"timestamp\\\": ${timestamp},\n    \\\"message\\\": ${log_data}\n  }\n]\"\"\" \u003e /var/log/cwl-cloud-init.txt\n\naws logs create-log-stream \\\n  --region ${region} \\\n  --log-group-name /aws/ec2/tars-opsdev-cpc/cpc-back/cloud-init-output \\\n  --log-stream-name ${instance_id}\n\naws logs put-log-events \\\n  --region ${region} \\\n  --log-group-name /aws/ec2/tars-opsdev-cpc/cpc-back/cloud-init-output \\\n  --log-stream-name ${instance_id} \\\n  --log-events file:///var/log/cwl-cloud-init.txt\n\nlog 'INFO' 'Completing lifecycle action'\n\nif [ ${BOOTSTRAP_SUCCESS} -eq 1 ]; then\n  ${aws} autoscaling complete-lifecycle-action \\\n      --lifecycle-action-result CONTINUE \\\n      --instance-id \"${instance_id}\" \\\n      --lifecycle-hook-name \"${lifecycle_hook_name}\" \\\n      --auto-scaling-group-name \"${asg_name}\" \\\n      || error 'Failed to complete lifecycle hook';\nelse\n  ${aws} autoscaling complete-lifecycle-action \\\n    --lifecycle-action-result ABANDON \\\n    --instance-id \"${instance_id}\" \\\n    --lifecycle-hook-name \"${lifecycle_hook_name}\" \\\n    --auto-scaling-group-name \"${asg_name}\" \\\n    || error 'Failed to complete lifecycle hook';\nfi\n\n",
                "content_type": "text/x-shellscript",
                "filename": "",
                "merge_type": ""
              }
            ],
            "rendered": "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"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "cloudinit_config",
      "name": "cpc-batch",
      "provider": "provider[\"registry.terraform.io/hashicorp/cloudinit\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base64_encode": true,
            "boundary": "MIMEBOUNDARY",
            "gzip": true,
            "id": "2685198661",
            "part": [
              {
                "content": "#cloud-config\nbootcmd:\n  - \"echo '[INFO] Applying bootcmd...'\"\n  - \"hostname cpc-batch-$INSTANCE_ID.opsdev.tars.dev-dvsacloud.uk\"\n  - \"sed -i \\\"1i$(curl -fs http://169.254.169.254/latest/meta-data/local-ipv4) cpc-batch-$INSTANCE_ID.opsdev.tars.dev-dvsacloud.uk cpc-batch-$INSTANCE_ID\\\" /etc/hosts\"\n  - \"sed -i -e '/HOSTNAME=/d' /etc/sysconfig/network\"\n  - \"echo \\\"HOSTNAME=cpc-batch-$INSTANCE_ID.opsdev.tars.dev-dvsacloud.uk\\\" \u003e\u003e /etc/sysconfig/network\"\nruncmd:\n  - \"echo '[INFO] Applying runcmd...'\"\n  - \"/etc/init.d/iptables stop\"\n  - \"/sbin/chkconfig iptables off\"\npreserve_hostname: true\nrepo_upgrade: none\nfinal_message: \"[INFO] System configuration finished!\"\n\n",
                "content_type": "text/cloud-config",
                "filename": "",
                "merge_type": ""
              },
              {
                "content": "#!/bin/bash +x\n\nfunction log () {\n  case $1 in\n    \"INFO\")\n      LOG_COLOR=\"\\033[96m\";;\n    \"ERROR\")\n      LOG_COLOR=\"\\033[31m\";;\n    \"WARN\")\n      LOG_COLOR=\"\\033[93m\" ;;\n    \"SUCCESS\")\n      LOG_COLOR=\"\\033[32m\" ;;\n    *)\n      LOG_COLOR=\"\\033[1m\" ;;\n  esac\n\n  echo -e \"${LOG_COLOR} [$(date)] ${1}: $2\\033[0m\" | tee -a \"/var/log/bootstrap.log\"\n}\n\nfunction error () {\n  log \"ERROR\" \"$1\"\n  exit\n}\n\n# Python is the best bet to safely escape the log data\n# for json consumption. json is a std python lib so \n# minimal dependency requirements\nfunction json_escape () {\n    printf '%s' \"$1\" | python -c 'import json,sys; print(json.dumps(sys.stdin.read()))'\n}\n\nexport aws=\"$(which aws || echo '/usr/bin/aws')\";\nexport curl=\"$(which curl || echo '/usr/bin/curl')\";\n\n# Instance ID begets all things...\nlog 'INFO' 'Retrieving Instance ID from Metadata';\ninstance_id=\"$(${curl} -s http://169.254.169.254/latest/meta-data/instance-id)\";\nif [ ${?} -ne 0 ]; then\n  error \"Failed to retrieve Instance ID\";\nfi\nlog 'INFO' \"Instance ID: ${instance_id}\";\n\n# Get Current AWS Region in order to do anything useful...\nlog 'INFO' 'Retrieving Instance Identity Document from Metadata';\ninstance_identity_document=\"$(${curl} -s http://169.254.169.254/latest/dynamic/instance-identity/document)\";\nif [ ${?} -ne 0 ]; then\n  error \"${curl} -s http://169.254.169.254/latest/dynamic/instance-identity/document\";\nelse\n  log 'INFO' 'Instance Identity Document Retrieved';\n\n  region=\"$(echo \"${instance_identity_document}\" | jq -r .region)\";\n\n  if [ ${?} -ne 0 ]; then\n    error 'jq: Instance Identity Document could not be parsed for current Region';\n  else\n    log 'INFO' \"Region retrieved: ${region}\";\n  fi;\n\n  # Make it available to the AWS cli; who needs to specify the region manually on every single call(?)\n  export AWS_DEFAULT_REGION=\"${region}\";\nfi;\n\n# Get the Autoscaling Group Name - it's a bit dirty but it works.\nasg_name=\"$(${aws} autoscaling describe-auto-scaling-instances \\\n  --instance \"${instance_id}\" \\\n  --output json \\\n  | jq -r .AutoScalingInstances[0].AutoScalingGroupName)\";\n\nif [ ${?} -ne 0 ]; then\n  error 'Failed to retrieve the autoscaling group name for this instance';\nelse\n  log 'INFO' \"ASG name retrieved: ${asg_name}\";\nfi;\n\n# Get the Launching LifeCycle Hook Name for this ASG (Making the assumption there's only one hook!)\nlifecycle_hook_name=\"$(${aws} autoscaling describe-lifecycle-hooks \\\n  --auto-scaling-group-name \"${asg_name}\" \\\n  --output json \\\n  | jq -r '.LifecycleHooks[] | select(.LifecycleTransition==\"autoscaling:EC2_INSTANCE_LAUNCHING\") | .LifecycleHookName')\";\n\nif [ ${?} -ne 0 ]; then\n  error \"Failed to retrieve lifecycle hook name for the autoscaling:EC2_INSTANCE_LAUNCHING transition for the autoscaling group named: ${asg_name}\";\nelse\n  log 'INFO' \"Lifecycle hook name retrieved: ${lifecycle_hook_name}\"\nfi;\n\n# Prerequisite information gathered - begin bootstrapping\n\nBOOTSTRAP_SUCCESS=1\n\nsed -E -i \"s/'[a-z0-9]{8}\\-[a-z0-9]{4}\\-[a-z0-9]{4}\\-[a-f0-9]{4}\\-[a-z0-9]{12}'/'791140e3-1c70-4d21-943f-007c92c1e17d'/g\" /etc/eyaml/config.yaml\n\n# Ensure the directory exists\nmkdir -p /efs;\n\n# Get Region and AZ from AWS EC2 meta-data. We could take region as a template parameter, but why since meta-data is canonical?\nexport region=\"$(curl -s http://169.254.169.254/latest/dynamic/instance-identity/document | jq -r .region)\";\nexport az=\"$(curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone)\";\n\n# TODO: peacheym: Convert to AZ-independent URL\n# Set mount information in /etc/fstab - we're unlikely to reboot, but it can't hurt to ensure it remains\necho \"${az}.fs-bf43d48b.efs.${region}.amazonaws.com:/ /efs nfs4 nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2 0 0\" \u003e\u003e /etc/fstab\n\n# Mount the configured target for Batch\nmount /efs\n\n# Shift this to cloud-init config yaml\nfacts_path=\"/opt/puppetlabs/facter/facts.d\"\necho -n 'environment: opsdev'    \u003e \"${facts_path}/environment.yaml\"\necho -n 'nodetype: cpc-batch'          \u003e \"${facts_path}/nodetype.yaml\"\necho -n 'aws_account: 652856684323' \u003e \"${facts_path}/aws_account.yaml\"\necho -n 'domain: nonprod.tars.dev-dvsacloud.uk' \u003e \"${facts_path}/domain.yaml\"\n\ncd /opt/packer-puppet-masterless\n\nlog 'INFO' 'Running puppet to configure environment'\n\n/opt/puppetlabs/bin/puppet apply \\\n  --verbose \\\n  --detailed-exitcodes \\\n  --modulepath='/opt/packer-puppet-masterless/module-0:/opt/packer-puppet-masterless/module-1' \\\n  --hiera_config='/opt/packer-puppet-masterless/hiera.yaml' \\\n  /opt/packer-puppet-masterless/manifests/site.pp\n\ncase ${?} in\n  6|4|1)\n    log \"ERROR\" \"Puppet run failed with exit code ${?}\"\n    BOOTSTRAP_SUCCESS=0 ;;\n  *)\n    log \"INFO\" \"Puppet run completed\" ;;\nesac\n\nif [ ${BOOTSTRAP_SUCCESS} -eq 1 ]; then\n  log 'SUCCESS' 'Bootstrap complete for nodetype: cpc-batch'\nelse\n  log 'ERROR' 'Bootstrap abandon for nodetype: cpc-batch'\nfi\n\nsed -i -e \"s|production|opsdev|g\" /opt/aws/amazon-cloudwatch-agent/etc/amazon-cloudwatch-agent.toml\n/etc/init.d/cloudwatch restart\n\n# Sure would be lovely if date could give unix time \n# in milliseconds\ntimestamp=$(($(date +'%s * 1000 + %-N / 1000000')))\nlog_data=\"$(json_escape \"$(cat /var/log/cloud-init-output.log)\")\"\n\necho \"\"\"\n[\n  {\n    \\\"timestamp\\\": ${timestamp},\n    \\\"message\\\": ${log_data}\n  }\n]\"\"\" \u003e /var/log/cwl-cloud-init.txt\n\naws logs create-log-stream \\\n  --region ${region} \\\n  --log-group-name /aws/ec2/tars-opsdev-cpc/cpc-batch/cloud-init-output \\\n  --log-stream-name ${instance_id}\n\naws logs put-log-events \\\n  --region ${region} \\\n  --log-group-name /aws/ec2/tars-opsdev-cpc/cpc-batch/cloud-init-output \\\n  --log-stream-name ${instance_id} \\\n  --log-events file:///var/log/cwl-cloud-init.txt\n\nlog 'INFO' 'Completing lifecycle action'\n\nif [ ${BOOTSTRAP_SUCCESS} -eq 1 ]; then\n  ${aws} autoscaling complete-lifecycle-action \\\n      --lifecycle-action-result CONTINUE \\\n      --instance-id \"${instance_id}\" \\\n      --lifecycle-hook-name \"${lifecycle_hook_name}\" \\\n      --auto-scaling-group-name \"${asg_name}\" \\\n      || error 'Failed to complete lifecycle hook';\nelse\n  ${aws} autoscaling complete-lifecycle-action \\\n    --lifecycle-action-result ABANDON \\\n    --instance-id \"${instance_id}\" \\\n    --lifecycle-hook-name \"${lifecycle_hook_name}\" \\\n    --auto-scaling-group-name \"${asg_name}\" \\\n    || error 'Failed to complete lifecycle hook';\nfi\n\n",
                "content_type": "text/x-shellscript",
                "filename": "",
                "merge_type": ""
              }
            ],
            "rendered": "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"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "cloudinit_config",
      "name": "cpc-front",
      "provider": "provider[\"registry.terraform.io/hashicorp/cloudinit\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base64_encode": true,
            "boundary": "MIMEBOUNDARY",
            "gzip": true,
            "id": "733173254",
            "part": [
              {
                "content": "#cloud-config\nbootcmd:\n  - \"echo '[INFO] Applying bootcmd...'\"\n  - \"hostname cpc-front-$INSTANCE_ID.opsdev.tars.dev-dvsacloud.uk\"\n  - \"sed -i \\\"1i$(curl -fs http://169.254.169.254/latest/meta-data/local-ipv4) cpc-front-$INSTANCE_ID.opsdev.tars.dev-dvsacloud.uk cpc-front-$INSTANCE_ID\\\" /etc/hosts\"\n  - \"sed -i -e '/HOSTNAME=/d' /etc/sysconfig/network\"\n  - \"echo \\\"HOSTNAME=cpc-front-$INSTANCE_ID.opsdev.tars.dev-dvsacloud.uk\\\" \u003e\u003e /etc/sysconfig/network\"\nruncmd:\n  - \"echo '[INFO] Applying runcmd...'\"\n  - \"/etc/init.d/iptables stop\"\n  - \"/sbin/chkconfig iptables off\"\npreserve_hostname: true\nrepo_upgrade: none\nfinal_message: \"[INFO] System configuration finished!\"\n\n",
                "content_type": "text/cloud-config",
                "filename": "",
                "merge_type": ""
              },
              {
                "content": "#!/bin/bash +x\n\nfunction log () {\n  case $1 in\n    \"INFO\")\n      LOG_COLOR=\"\\033[96m\";;\n    \"ERROR\")\n      LOG_COLOR=\"\\033[31m\";;\n    \"WARN\")\n      LOG_COLOR=\"\\033[93m\" ;;\n    \"SUCCESS\")\n      LOG_COLOR=\"\\033[32m\" ;;\n    *)\n      LOG_COLOR=\"\\033[1m\" ;;\n  esac\n\n  echo -e \"${LOG_COLOR} [$(date)] ${1}: $2\\033[0m\" | tee -a \"/var/log/bootstrap.log\"\n}\n\nfunction error () {\n  log \"ERROR\" \"$1\"\n  exit\n}\n\n# Python is the best bet to safely escape the log data\n# for json consumption. json is a std python lib so \n# minimal dependency requirements\nfunction json_escape () {\n    printf '%s' \"$1\" | python -c 'import json,sys; print(json.dumps(sys.stdin.read()))'\n}\n\nexport aws=\"$(which aws || echo '/usr/bin/aws')\";\nexport curl=\"$(which curl || echo '/usr/bin/curl')\";\n\n# Instance ID begets all things...\nlog 'INFO' 'Retrieving Instance ID from Metadata';\ninstance_id=\"$(${curl} -s http://169.254.169.254/latest/meta-data/instance-id)\";\nif [ ${?} -ne 0 ]; then\n  error \"Failed to retrieve Instance ID\";\nfi\nlog 'INFO' \"Instance ID: ${instance_id}\";\n\n# Get Current AWS Region in order to do anything useful...\nlog 'INFO' 'Retrieving Instance Identity Document from Metadata';\ninstance_identity_document=\"$(${curl} -s http://169.254.169.254/latest/dynamic/instance-identity/document)\";\nif [ ${?} -ne 0 ]; then\n  error \"${curl} -s http://169.254.169.254/latest/dynamic/instance-identity/document\";\nelse\n  log 'INFO' 'Instance Identity Document Retrieved';\n\n  region=\"$(echo \"${instance_identity_document}\" | jq -r .region)\";\n\n  if [ ${?} -ne 0 ]; then\n    error 'jq: Instance Identity Document could not be parsed for current Region';\n  else\n    log 'INFO' \"Region retrieved: ${region}\";\n  fi;\n\n  # Make it available to the AWS cli; who needs to specify the region manually on every single call(?)\n  export AWS_DEFAULT_REGION=\"${region}\";\nfi;\n\n# Get the Autoscaling Group Name - it's a bit dirty but it works.\nasg_name=\"$(${aws} autoscaling describe-auto-scaling-instances \\\n  --instance \"${instance_id}\" \\\n  --output json \\\n  | jq -r .AutoScalingInstances[0].AutoScalingGroupName)\";\n\nif [ ${?} -ne 0 ]; then\n  error 'Failed to retrieve the autoscaling group name for this instance';\nelse\n  log 'INFO' \"ASG name retrieved: ${asg_name}\";\nfi;\n\n# Get the Launching LifeCycle Hook Name for this ASG (Making the assumption there's only one hook!)\nlifecycle_hook_name=\"$(${aws} autoscaling describe-lifecycle-hooks \\\n  --auto-scaling-group-name \"${asg_name}\" \\\n  --output json \\\n  | jq -r '.LifecycleHooks[] | select(.LifecycleTransition==\"autoscaling:EC2_INSTANCE_LAUNCHING\") | .LifecycleHookName')\";\n\nif [ ${?} -ne 0 ]; then\n  error \"Failed to retrieve lifecycle hook name for the autoscaling:EC2_INSTANCE_LAUNCHING transition for the autoscaling group named: ${asg_name}\";\nelse\n  log 'INFO' \"Lifecycle hook name retrieved: ${lifecycle_hook_name}\"\nfi;\n\n# Prerequisite information gathered - begin bootstrapping\n\nBOOTSTRAP_SUCCESS=1\ncurl_cmd=\"curl --connect-timeout 3 -s -f http://CPC-BACKEND:8080/training-centre/TrainingCentreWebService/TrainingCentre?wsdl 2\u003e\u00261 \u003e /dev/null\"\nretries=40\nretry_delay=10\nbackend=1\nlog 'INFO' 'Waiting for backend to respond'\n\nfor ((trys=1;trys\u003c=${retries};trys++));\ndo\n  eval ${curl_cmd}\n  if [ $? -eq 0 ]\n  then\n    log 'INFO' 'Backend responding'\n    backend=0\n    break\n  else\n    log 'INFO' 'Backend failed to respond. Retrying..'\n    sleep ${retry_delay}\n  fi\ndone\n\nif [ ${backend} -eq 0  ]\nthen\n  log 'INFO' 'Running puppet to configure environment'\n\n  sed -E -i \"s/'[a-z0-9]{8}\\-[a-z0-9]{4}\\-[a-z0-9]{4}\\-[a-f0-9]{4}\\-[a-z0-9]{12}'/'791140e3-1c70-4d21-943f-007c92c1e17d'/g\" /etc/eyaml/config.yaml\n\n  # Shift this to cloud-init config yaml\n  facts_path=\"/opt/puppetlabs/facter/facts.d\"\n  echo -n 'environment: opsdev'    \u003e \"${facts_path}/environment.yaml\"\n  echo -n 'nodetype: cpc-front'          \u003e \"${facts_path}/nodetype.yaml\"\n  echo -n 'aws_account: 652856684323' \u003e \"${facts_path}/aws_account.yaml\"\n  echo -n 'domain: nonprod.tars.dev-dvsacloud.uk' \u003e \"${facts_path}/domain.yaml\"\n\n  cd /opt/packer-puppet-masterless\n\n  /opt/puppetlabs/bin/puppet apply \\\n    --verbose \\\n    --detailed-exitcodes \\\n    --modulepath='/opt/packer-puppet-masterless/module-0:/opt/packer-puppet-masterless/module-1' \\\n    --hiera_config='/opt/packer-puppet-masterless/hiera.yaml' \\\n    /opt/packer-puppet-masterless/manifests/site.pp\n\n  case ${?} in\n    6|4|1)\n      log \"ERROR\" \"Puppet run failed with exit code ${?}\"\n      BOOTSTRAP_SUCCESS=0 ;;\n    *)\n      log \"INFO\" \"Puppet run completed\" ;;\n  esac\n\n  log 'INFO' 'Puppet configuration finished'\nelse\n  log 'ERROR' 'Could not contact backend'\n  BOOTSTRAP_SUCCESS=0\nfi\n\nif [ ${BOOTSTRAP_SUCCESS} -eq 1 ]; then\n  log 'SUCCESS' 'Bootstrap complete for nodetype: cpc-front'\nelse\n  log 'ERROR' 'Bootstrap abandon for nodetype: cpc-front'\nfi\n\nsed -i -e \"s|production|opsdev|g\" /opt/aws/amazon-cloudwatch-agent/etc/amazon-cloudwatch-agent.toml\n/etc/init.d/cloudwatch restart\n\n# Sure would be lovely if date could give unix time \n# in milliseconds\ntimestamp=$(($(date +'%s * 1000 + %-N / 1000000')))\nlog_data=\"$(json_escape \"$(cat /var/log/cloud-init-output.log)\")\"\n\necho \"\"\"\n[\n  {\n    \\\"timestamp\\\": ${timestamp},\n    \\\"message\\\": ${log_data}\n  }\n]\"\"\" \u003e /var/log/cwl-cloud-init.txt\n\naws logs create-log-stream \\\n  --region ${region} \\\n  --log-group-name /aws/ec2/tars-opsdev-cpc/cpc-front/cloud-init-output \\\n  --log-stream-name ${instance_id}\n\naws logs put-log-events \\\n  --region ${region} \\\n  --log-group-name /aws/ec2/tars-opsdev-cpc/cpc-front/cloud-init-output \\\n  --log-stream-name ${instance_id} \\\n  --log-events file:///var/log/cwl-cloud-init.txt\n\nlog 'INFO' 'Completing lifecycle action'\n\nif [ ${BOOTSTRAP_SUCCESS} -eq 1 ]; then\n  ${aws} autoscaling complete-lifecycle-action \\\n      --lifecycle-action-result CONTINUE \\\n      --instance-id \"${instance_id}\" \\\n      --lifecycle-hook-name \"${lifecycle_hook_name}\" \\\n      --auto-scaling-group-name \"${asg_name}\" \\\n      || error 'Failed to complete lifecycle hook';\nelse\n  ${aws} autoscaling complete-lifecycle-action \\\n    --lifecycle-action-result ABANDON \\\n    --instance-id \"${instance_id}\" \\\n    --lifecycle-hook-name \"${lifecycle_hook_name}\" \\\n    --auto-scaling-group-name \"${asg_name}\" \\\n    || error 'Failed to complete lifecycle hook';\nfi\n\n",
                "content_type": "text/x-shellscript",
                "filename": "",
                "merge_type": ""
              }
            ],
            "rendered": "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"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "terraform_remote_state",
      "name": "acc",
      "provider": "provider[\"terraform.io/builtin/terraform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend": "s3",
            "config": {
              "value": {
                "bucket": "tars-terraformscaffold-652856684323-eu-west-1",
                "key": "tars/652856684323/eu-west-1/nonprod/acc.tfstate",
                "region": "eu-west-1"
              },
              "type": [
                "object",
                {
                  "bucket": "string",
                  "key": "string",
                  "region": "string"
                }
              ]
            },
            "defaults": null,
            "outputs": {
              "value": {
                "DVSA-EC2-Read-Role-role-arn": "arn:aws:iam::652856684323:role/EC2-Read",
                "account_alias": "tarsnonprod",
                "cwles_cloudtrail_arn": "arn:aws:cloudtrail:eu-west-1:652856684323:trail/tars-nonprod-acc-cwles",
                "cwles_cloudtrail_id": "tars-nonprod-acc-cwles",
                "hieradata_kms_key_arn": "arn:aws:kms:eu-west-1:652856684323:key/791140e3-1c70-4d21-943f-007c92c1e17d",
                "hieradata_kms_key_id": "791140e3-1c70-4d21-943f-007c92c1e17d",
                "hieradata_kms_key_user_policy_arn": "arn:aws:iam::652856684323:policy/tars-nonprod-acc-kms-hieradata-user",
                "key_name": "deployer",
                "notify_ops_sns_arn": "arn:aws:sns:eu-west-1:652856684323:tars-nonprod-acc-notify-ops",
                "oom-s3-log-bucket": "arn:aws:s3:::tars-652856684323-eu-west-1-nonprod-acc-oom-logs",
                "oom-s3-log-bucket_id": "tars-652856684323-eu-west-1-nonprod-acc-oom-logs",
                "platform_ops_kms_key_arn": "arn:aws:kms:eu-west-1:652856684323:key/3dcd8e13-2604-4aa2-9c5c-4ccbe50d3e10",
                "platform_ops_kms_key_id": "3dcd8e13-2604-4aa2-9c5c-4ccbe50d3e10",
                "platform_ops_kms_key_user_policy_arn": "arn:aws:iam::652856684323:policy/tars-nonprod-acc-kms-platform-ops-user",
                "public_domain_name": "dvsa.tars.dev-dvsacloud.uk",
                "public_domain_name_ns_records": [
                  "ns-1355.awsdns-41.org",
                  "ns-1675.awsdns-17.co.uk",
                  "ns-395.awsdns-49.com",
                  "ns-988.awsdns-59.net"
                ],
                "public_domain_name_zone_id": "Z1UDTPRHAMK3TV",
                "public_domain_root_zone_id": "Z01205881OXWKZSO9QIUW",
                "tars_dlm_lifecycle_role_arn": "arn:aws:iam::652856684323:role/dlm-lifecycle-role"
              },
              "type": [
                "object",
                {
                  "DVSA-EC2-Read-Role-role-arn": "string",
                  "account_alias": "string",
                  "cwles_cloudtrail_arn": "string",
                  "cwles_cloudtrail_id": "string",
                  "hieradata_kms_key_arn": "string",
                  "hieradata_kms_key_id": "string",
                  "hieradata_kms_key_user_policy_arn": "string",
                  "key_name": "string",
                  "notify_ops_sns_arn": "string",
                  "oom-s3-log-bucket": "string",
                  "oom-s3-log-bucket_id": "string",
                  "platform_ops_kms_key_arn": "string",
                  "platform_ops_kms_key_id": "string",
                  "platform_ops_kms_key_user_policy_arn": "string",
                  "public_domain_name": "string",
                  "public_domain_name_ns_records": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "public_domain_name_zone_id": "string",
                  "public_domain_root_zone_id": "string",
                  "tars_dlm_lifecycle_role_arn": "string"
                }
              ]
            },
            "workspace": null
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "terraform_remote_state",
      "name": "base",
      "provider": "provider[\"terraform.io/builtin/terraform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend": "s3",
            "config": {
              "value": {
                "bucket": "tars-terraformscaffold-652856684323-eu-west-1",
                "key": "tars/652856684323/eu-west-1/opsdev/base.tfstate",
                "region": "eu-west-1"
              },
              "type": [
                "object",
                {
                  "bucket": "string",
                  "key": "string",
                  "region": "string"
                }
              ]
            },
            "defaults": null,
            "outputs": {
              "value": {
                "awsmq_sg_id": "sg-3c8a2440",
                "core_sg_id": "sg-e1802e9d",
                "ctrl_peering_id": "pcx-9957a3f1",
                "elc_sg_id": "sg-a78d23db",
                "iam_policy_bobjnode_arn": "arn:aws:iam::652856684323:policy/tars-opsdev-base-bobjnode",
                "iam_policy_cloudwatch_arn": "arn:aws:iam::652856684323:policy/tars-opsdev-base-cloudwatch",
                "iam_role_db_reports_arn": "arn:aws:iam::652856684323:role/tars-opsdev-base-db-reports",
                "igw": "igw-fad49f9d",
                "jenkins_net_route_table_id": [
                  "rtb-7f357006",
                  "rtb-71327708",
                  "rtb-ae3075d7"
                ],
                "jmeter_sg_id": "sg-0488fa22c0ac09a6a",
                "kms_sg_id": "sg-0e832d72",
                "nat_gw_ip": [
                  "34.243.106.190"
                ],
                "private_nat_route_table_id": [
                  "rtb-7f357006",
                  "rtb-71327708",
                  "rtb-ae3075d7"
                ],
                "private_nonat_route_table_id": "rtb-4f347136",
                "private_zone_id": "Z0659159TZJUDRCB2GQD",
                "private_zone_id_aws": "Z1RXZ8CQNQNQFU",
                "prometheus_sg_id": "sg-0b5b5f68ceb2f83ee",
                "public_route_table_id": "rtb-813376f8",
                "route_table_jenkins_nat": [
                  "rtb-7f357006",
                  "rtb-71327708",
                  "rtb-ae3075d7"
                ],
                "sns_alerts_arn": "arn:aws:sns:eu-west-1:652856684323:tars-opsdev-base-alerts",
                "squidnat_sg_id": "sg-18822c64",
                "subnet_cidrs_tars_backend": [
                  "10.167.1.0/27",
                  "10.167.1.32/27",
                  "10.167.1.64/27"
                ],
                "subnets_alb_public": [
                  "subnet-006c0b7afde404b1e",
                  "subnet-07b673e8acc350d4f",
                  "subnet-0eb1ef15f793b37f5"
                ],
                "subnets_cpc_alb_internal": [
                  "subnet-0e505725418e27f03",
                  "subnet-0092782491804a4a6",
                  "subnet-006c23c5b6420a115"
                ],
                "subnets_cpc_db": [
                  "subnet-6eee6608",
                  "subnet-c172ea89",
                  "subnet-4ee52f14"
                ],
                "subnets_fyndi_back_alb": [
                  "subnet-e1e66e87",
                  "subnet-026af24a",
                  "subnet-11f9334b"
                ],
                "subnets_ibs_db": [
                  "subnet-fbf9719d",
                  "subnet-eb6af2a3",
                  "subnet-b7ff35ed"
                ],
                "subnets_mis_db": [
                  "subnet-008955aac4aaaeb30",
                  "subnet-097da205e79035ba0",
                  "subnet-075a44a5031f3b5a1"
                ],
                "subnets_obs_alb_internal": [
                  "subnet-019d062539958f790",
                  "subnet-054328932b2759ddc",
                  "subnet-07e30fc2f36195380"
                ],
                "subnets_sftpplus_nlb": [
                  "subnet-0fc01dc33f34d763f",
                  "subnet-0f7173874c569ac6e",
                  "subnet-040249d712bdbcbbb"
                ],
                "subnets_tars_alb_internal": [
                  "subnet-09119fcc82cf077be",
                  "subnet-0b5e8bdee055ed355",
                  "subnet-08c689f679becd76f"
                ],
                "subnets_tars_awsmq": [
                  "subnet-39fa725f"
                ],
                "subnets_tars_backend": [
                  "subnet-40fb7326",
                  "subnet-a969f1e1",
                  "subnet-ede62cb7"
                ],
                "subnets_tars_backend_api_alb": [
                  "subnet-032513b19b0cad983",
                  "subnet-00d991863e6bd390d",
                  "subnet-0d8dd5eaf39a35ce1"
                ],
                "subnets_tars_backend_elb": [
                  "subnet-85e169e3",
                  "subnet-fd73ebb5",
                  "subnet-e0f238ba"
                ],
                "subnets_tars_db": [
                  "subnet-fbf9719d",
                  "subnet-eb6af2a3",
                  "subnet-b7ff35ed"
                ],
                "subnets_tars_dvsa_public": [
                  "subnet-0b0c9e245e16ad0d0",
                  "subnet-01cabce9855e4878e",
                  "subnet-0eedb507652c30122"
                ],
                "subnets_tars_messaging": [
                  "subnet-e9e46c8f",
                  "subnet-0a75ed42",
                  "subnet-fef03aa4"
                ],
                "subnets_tars_messaging_alb": [
                  "subnet-77e36b11",
                  "subnet-317fe779",
                  "subnet-75fa302f"
                ],
                "subnets_tars_web": [
                  "subnet-d6fc74b0",
                  "subnet-0170e849",
                  "subnet-1cff3546"
                ],
                "tars_core_iam_instance_profile_name": "tars-opsdev-base-core",
                "tars_messaging_iam_instance_profile_name": "tars-opsdev-base-messaging",
                "vpc_id": "vpc-91eab8f7"
              },
              "type": [
                "object",
                {
                  "awsmq_sg_id": "string",
                  "core_sg_id": "string",
                  "ctrl_peering_id": "string",
                  "elc_sg_id": "string",
                  "iam_policy_bobjnode_arn": "string",
                  "iam_policy_cloudwatch_arn": "string",
                  "iam_role_db_reports_arn": "string",
                  "igw": "string",
                  "jenkins_net_route_table_id": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "jmeter_sg_id": "string",
                  "kms_sg_id": "string",
                  "nat_gw_ip": [
                    "tuple",
                    [
                      "string"
                    ]
                  ],
                  "private_nat_route_table_id": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "private_nonat_route_table_id": "string",
                  "private_zone_id": "string",
                  "private_zone_id_aws": "string",
                  "prometheus_sg_id": "string",
                  "public_route_table_id": "string",
                  "route_table_jenkins_nat": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "sns_alerts_arn": "string",
                  "squidnat_sg_id": "string",
                  "subnet_cidrs_tars_backend": [
                    "list",
                    "string"
                  ],
                  "subnets_alb_public": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_cpc_alb_internal": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_cpc_db": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_fyndi_back_alb": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_ibs_db": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_mis_db": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_obs_alb_internal": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_sftpplus_nlb": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_tars_alb_internal": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_tars_awsmq": [
                    "tuple",
                    [
                      "string"
                    ]
                  ],
                  "subnets_tars_backend": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_tars_backend_api_alb": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_tars_backend_elb": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_tars_db": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_tars_dvsa_public": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_tars_messaging": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_tars_messaging_alb": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "subnets_tars_web": [
                    "tuple",
                    [
                      "string",
                      "string",
                      "string"
                    ]
                  ],
                  "tars_core_iam_instance_profile_name": "string",
                  "tars_messaging_iam_instance_profile_name": "string",
                  "vpc_id": "string"
                }
              ]
            },
            "workspace": null
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "terraform_remote_state",
      "name": "ctrl",
      "provider": "provider[\"terraform.io/builtin/terraform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend": "s3",
            "config": {
              "value": {
                "bucket": "tars-terraformscaffold-652856684323-eu-west-1",
                "key": "tars/652856684323/eu-west-1/nonprod/ctrl.tfstate",
                "region": "eu-west-1"
              },
              "type": [
                "object",
                {
                  "bucket": "string",
                  "key": "string",
                  "region": "string"
                }
              ]
            },
            "defaults": null,
            "outputs": {
              "value": {
                "access_key": "AKIAICEZBSKNNLFKCYNA",
                "bastion_elb_sg_id": "sg-0be4f971",
                "bastion_outbound-oracle_sg_id": "sg-02683b53d8b90594e",
                "bastion_sg_id": "sg-04af72d467d8575c6",
                "dx_gateway_id": [
                  "a4c2dfcb-d6f3-4493-9b09-e6b6eada9dda"
                ],
                "eip_nat_public_ips": [
                  "52.214.31.165"
                ],
                "grafana_sg_id": "sg-06bd0f27f6770007f",
                "jenkinsctrl_sg_id": "sg-0049364e43e54519a",
                "private_r53_zone": [
                  "Z02938282OXKNC86FS3WX"
                ],
                "rt_private_id": "rtb-6253f91b",
                "rt_private_nat_id": "rtb-fb08d282",
                "secret": "+2d1Ryp2H/L2g+rxxgWV19MtuLLhxq2pRH3179aM",
                "tars_acct_bucketlogs": "tars-nonprod-ctrl-acc-bucketlogs",
                "tars_aws_backup_iam_role_arn": "arn:aws:iam::652856684323:role/tars_aws_backup",
                "tars_aws_backup_iam_tars_efs_id": "ca604a51-2994-4a54-a2fe-249461c779c3",
                "tars_domain_name": "dvsa.tars.dev-dvsacloud.uk",
                "user": "tars-nonprod-ctrl-ses-",
                "vpc_cidr_block": "10.167.60.0/22",
                "vpc_id": "vpc-9f2ba7f9"
              },
              "type": [
                "object",
                {
                  "access_key": "string",
                  "bastion_elb_sg_id": "string",
                  "bastion_outbound-oracle_sg_id": "string",
                  "bastion_sg_id": "string",
                  "dx_gateway_id": [
                    "tuple",
                    [
                      "string"
                    ]
                  ],
                  "eip_nat_public_ips": [
                    "tuple",
                    [
                      "string"
                    ]
                  ],
                  "grafana_sg_id": "string",
                  "jenkinsctrl_sg_id": "string",
                  "private_r53_zone": [
                    "tuple",
                    [
                      "string"
                    ]
                  ],
                  "rt_private_id": "string",
                  "rt_private_nat_id": "string",
                  "secret": "string",
                  "tars_acct_bucketlogs": "string",
                  "tars_aws_backup_iam_role_arn": "string",
                  "tars_aws_backup_iam_tars_efs_id": "string",
                  "tars_domain_name": "string",
                  "user": "string",
                  "vpc_cidr_block": "string",
                  "vpc_id": "string"
                }
              ]
            },
            "workspace": null
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "terraform_remote_state",
      "name": "tars-batch",
      "provider": "provider[\"terraform.io/builtin/terraform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend": "s3",
            "config": {
              "value": {
                "bucket": "tars-terraformscaffold-652856684323-eu-west-1",
                "key": "tars/652856684323/eu-west-1/opsdev/tars-batch.tfstate",
                "region": "eu-west-1"
              },
              "type": [
                "object",
                {
                  "bucket": "string",
                  "key": "string",
                  "region": "string"
                }
              ]
            },
            "defaults": null,
            "outputs": {
              "value": {
                "batch_efs_id": "fs-93d47c5b",
                "tars-batch-sg-id": "sg-01d32ad186459717b"
              },
              "type": [
                "object",
                {
                  "batch_efs_id": "string",
                  "tars-batch-sg-id": "string"
                }
              ]
            },
            "workspace": null
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "terraform_remote_state",
      "name": "tars-core",
      "provider": "provider[\"terraform.io/builtin/terraform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend": "s3",
            "config": {
              "value": {
                "bucket": "tars-terraformscaffold-652856684323-eu-west-1",
                "key": "tars/652856684323/eu-west-1/opsdev/tars-core.tfstate",
                "region": "eu-west-1"
              },
              "type": [
                "object",
                {
                  "bucket": "string",
                  "key": "string",
                  "region": "string"
                }
              ]
            },
            "defaults": null,
            "outputs": {
              "value": {
                "tars-apache-autoscaling-group-name": "tars-opsdev-tars-core/apache",
                "tars-apache-dns-name": "tars-opsdev-tars-core-apache-778436142.eu-west-1.elb.amazonaws.com",
                "tars-apache-dns-zone-id": "Z32O12XQLNTSW2",
                "tars-core-alb-target-group-irdt-frontend": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-irdt-wff-7443/1602babfcf22f095",
                "tars-core-apache-sg-id": "sg-02b4d13ba5692709e",
                "tars-core-backend-alb-sg-id": "sg-fc78d680",
                "tars-core-backend-sg-id": "sg-0af3b3d2d7d1bea93",
                "tars-core-db-sg-id": "sg-d179d7ad",
                "tars-core-frontend-sg-id": "sg-086b255ad20ea41e2"
              },
              "type": [
                "object",
                {
                  "tars-apache-autoscaling-group-name": "string",
                  "tars-apache-dns-name": "string",
                  "tars-apache-dns-zone-id": "string",
                  "tars-core-alb-target-group-irdt-frontend": "string",
                  "tars-core-apache-sg-id": "string",
                  "tars-core-backend-alb-sg-id": "string",
                  "tars-core-backend-sg-id": "string",
                  "tars-core-db-sg-id": "string",
                  "tars-core-frontend-sg-id": "string"
                }
              ]
            },
            "workspace": null
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb",
      "name": "cpc-back",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-cpc-back/5fae6f91f65756a4",
            "arn_suffix": "app/tars-opsdev-cpc-cpc-back/5fae6f91f65756a4",
            "customer_owned_ipv4_pool": "",
            "dns_name": "internal-tars-opsdev-cpc-cpc-back-1437699250.eu-west-1.elb.amazonaws.com",
            "drop_invalid_header_fields": false,
            "enable_cross_zone_load_balancing": null,
            "enable_deletion_protection": false,
            "enable_http2": true,
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-cpc-back/5fae6f91f65756a4",
            "idle_timeout": 60,
            "internal": true,
            "ip_address_type": "ipv4",
            "load_balancer_type": "application",
            "name": "tars-opsdev-cpc-cpc-back",
            "name_prefix": null,
            "security_groups": [
              "sg-b6c76cca"
            ],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-cfd84387"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-d54ec6b3"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-f9408aa3"
              }
            ],
            "subnets": [
              "subnet-cfd84387",
              "subnet-d54ec6b3",
              "subnet-f9408aa3"
            ],
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/cpc-back",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/cpc-back",
              "Project": "tars"
            },
            "timeouts": null,
            "vpc_id": "vpc-91eab8f7",
            "zone_id": "Z32O12XQLNTSW2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_security_group.cpc-back-alb",
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb",
      "name": "cpc-front-dva",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-dva/7413f006438dbe77",
            "arn_suffix": "app/tars-opsdev-cpc-dva/7413f006438dbe77",
            "customer_owned_ipv4_pool": "",
            "dns_name": "tars-opsdev-cpc-dva-864144566.eu-west-1.elb.amazonaws.com",
            "drop_invalid_header_fields": false,
            "enable_cross_zone_load_balancing": null,
            "enable_deletion_protection": false,
            "enable_http2": true,
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-dva/7413f006438dbe77",
            "idle_timeout": 300,
            "internal": false,
            "ip_address_type": "ipv4",
            "load_balancer_type": "application",
            "name": "tars-opsdev-cpc-dva",
            "name_prefix": null,
            "security_groups": [
              "sg-d1da71ad"
            ],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-006c0b7afde404b1e"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-07b673e8acc350d4f"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-0eb1ef15f793b37f5"
              }
            ],
            "subnets": [
              "subnet-006c0b7afde404b1e",
              "subnet-07b673e8acc350d4f",
              "subnet-0eb1ef15f793b37f5"
            ],
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/dva",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/dva",
              "Project": "tars"
            },
            "timeouts": null,
            "vpc_id": "vpc-91eab8f7",
            "zone_id": "Z32O12XQLNTSW2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_security_group.cpc-front-dva-alb",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb",
      "name": "cpc-front-dvsa",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-dvsa/bc3a21aefd60187b",
            "arn_suffix": "app/tars-opsdev-cpc-dvsa/bc3a21aefd60187b",
            "customer_owned_ipv4_pool": "",
            "dns_name": "internal-tars-opsdev-cpc-dvsa-760439928.eu-west-1.elb.amazonaws.com",
            "drop_invalid_header_fields": false,
            "enable_cross_zone_load_balancing": null,
            "enable_deletion_protection": false,
            "enable_http2": true,
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-dvsa/bc3a21aefd60187b",
            "idle_timeout": 60,
            "internal": true,
            "ip_address_type": "ipv4",
            "load_balancer_type": "application",
            "name": "tars-opsdev-cpc-dvsa",
            "name_prefix": null,
            "security_groups": [
              "sg-fdc46f81"
            ],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-044ec662"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-2458927e"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-a1d843e9"
              }
            ],
            "subnets": [
              "subnet-044ec662",
              "subnet-2458927e",
              "subnet-a1d843e9"
            ],
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/dvsa",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/dvsa",
              "Project": "tars"
            },
            "timeouts": null,
            "vpc_id": "vpc-91eab8f7",
            "zone_id": "Z32O12XQLNTSW2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_security_group.cpc-front-dvsa-alb",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb",
      "name": "cpc-front-dvsa-internet",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-dvsa-internet/7e4ab2cb6ea7b97b",
            "arn_suffix": "app/tars-opsdev-cpc-dvsa-internet/7e4ab2cb6ea7b97b",
            "customer_owned_ipv4_pool": "",
            "dns_name": "tars-opsdev-cpc-dvsa-internet-2065130450.eu-west-1.elb.amazonaws.com",
            "drop_invalid_header_fields": false,
            "enable_cross_zone_load_balancing": null,
            "enable_deletion_protection": false,
            "enable_http2": true,
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-dvsa-internet/7e4ab2cb6ea7b97b",
            "idle_timeout": 300,
            "internal": false,
            "ip_address_type": "ipv4",
            "load_balancer_type": "application",
            "name": "tars-opsdev-cpc-dvsa-internet",
            "name_prefix": null,
            "security_groups": [
              "sg-030be28a13b81c5a0"
            ],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-006c0b7afde404b1e"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-07b673e8acc350d4f"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-0eb1ef15f793b37f5"
              }
            ],
            "subnets": [
              "subnet-006c0b7afde404b1e",
              "subnet-07b673e8acc350d4f",
              "subnet-0eb1ef15f793b37f5"
            ],
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/dvsa-internet",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/dvsa-internet",
              "Project": "tars"
            },
            "timeouts": null,
            "vpc_id": "vpc-91eab8f7",
            "zone_id": "Z32O12XQLNTSW2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_security_group.cpc-front-dvsa-internet-alb",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb",
      "name": "cpc-front-internal",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-internal/36609345375cf92c",
            "arn_suffix": "app/tars-opsdev-cpc-internal/36609345375cf92c",
            "customer_owned_ipv4_pool": "",
            "dns_name": "internal-tars-opsdev-cpc-internal-769413504.eu-west-1.elb.amazonaws.com",
            "drop_invalid_header_fields": false,
            "enable_cross_zone_load_balancing": null,
            "enable_deletion_protection": false,
            "enable_http2": true,
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-internal/36609345375cf92c",
            "idle_timeout": 300,
            "internal": true,
            "ip_address_type": "ipv4",
            "load_balancer_type": "application",
            "name": "tars-opsdev-cpc-internal",
            "name_prefix": null,
            "security_groups": [
              "sg-00cab1caed7fe4b47"
            ],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-006c23c5b6420a115"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-0092782491804a4a6"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-0e505725418e27f03"
              }
            ],
            "subnets": [
              "subnet-006c23c5b6420a115",
              "subnet-0092782491804a4a6",
              "subnet-0e505725418e27f03"
            ],
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/internal",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/internal",
              "Project": "tars"
            },
            "timeouts": null,
            "vpc_id": "vpc-91eab8f7",
            "zone_id": "Z32O12XQLNTSW2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_security_group.cpc-front-internal-alb",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb_listener",
      "name": "cpc-back-8080",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-cpc-back/5fae6f91f65756a4/fe6c9d456321658a",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-back-8080/b6c9178d8089cc5d",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-cpc-back/5fae6f91f65756a4/fe6c9d456321658a",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-cpc-back/5fae6f91f65756a4",
            "port": 8080,
            "protocol": "HTTP",
            "ssl_policy": "",
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_alb.cpc-back",
            "aws_alb_target_group.cpc-back-8080",
            "aws_security_group.cpc-back-alb",
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb_listener",
      "name": "cpc-front-dva-7443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-dva/7413f006438dbe77/953b991510b6d64a",
            "certificate_arn": "arn:aws:acm:eu-west-1:652856684323:certificate/b4d60b74-4d24-431f-a655-29e56b702483",
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dva-7443/ce466f75a50901fc",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-dva/7413f006438dbe77/953b991510b6d64a",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-dva/7413f006438dbe77",
            "port": 443,
            "protocol": "HTTPS",
            "ssl_policy": "ELBSecurityPolicy-TLS-1-2-Ext-2018-06",
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_alb.cpc-front-dva",
            "aws_alb_target_group.cpc-front-dva-7443",
            "aws_security_group.cpc-front-dva-alb",
            "data.aws_acm_certificate.cpc_tars_dvsacloud_uk",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb_listener",
      "name": "cpc-front-dvsa-8443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-dvsa/bc3a21aefd60187b/d98dd3085769ff9b",
            "certificate_arn": "arn:aws:acm:eu-west-1:652856684323:certificate/b4d60b74-4d24-431f-a655-29e56b702483",
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dvsa-8443/0803f2ebff78c656",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-dvsa/bc3a21aefd60187b/d98dd3085769ff9b",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-dvsa/bc3a21aefd60187b",
            "port": 443,
            "protocol": "HTTPS",
            "ssl_policy": "ELBSecurityPolicy-2016-08",
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_alb.cpc-front-dvsa",
            "aws_alb_target_group.cpc-front-dvsa-8443",
            "aws_security_group.cpc-front-dvsa-alb",
            "data.aws_acm_certificate.cpc_tars_dvsa_aws",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb_listener",
      "name": "cpc-front-dvsa-internet-8443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-dvsa-internet/7e4ab2cb6ea7b97b/5934379773747f3e",
            "certificate_arn": "arn:aws:acm:eu-west-1:652856684323:certificate/b4d60b74-4d24-431f-a655-29e56b702483",
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dvsa-inet-8443/a1c69ea750bc6897",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-dvsa-internet/7e4ab2cb6ea7b97b/5934379773747f3e",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-dvsa-internet/7e4ab2cb6ea7b97b",
            "port": 443,
            "protocol": "HTTPS",
            "ssl_policy": "ELBSecurityPolicy-2016-08",
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_alb.cpc-front-dvsa-internet",
            "aws_alb_target_group.cpc-front-dvsa-internet-8443",
            "aws_security_group.cpc-front-dvsa-internet-alb",
            "data.aws_acm_certificate.cpc_front_dvsa_internet",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb_listener",
      "name": "cpc-front-internal-9443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-internal/36609345375cf92c/5e3709242eaa2c10",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-internal-9443/d418a1fac413c213",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-internal/36609345375cf92c/5e3709242eaa2c10",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:loadbalancer/app/tars-opsdev-cpc-internal/36609345375cf92c",
            "port": 80,
            "protocol": "HTTP",
            "ssl_policy": "",
            "tags": null,
            "tags_all": {},
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_alb.cpc-front-internal",
            "aws_alb_target_group.cpc-front-internal-9443",
            "aws_security_group.cpc-front-internal-alb",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb_target_group",
      "name": "cpc-back-8080",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-back-8080/b6c9178d8089cc5d",
            "arn_suffix": "targetgroup/tars-opsdev-cpc-back-8080/b6c9178d8089cc5d",
            "deregistration_delay": 300,
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 10,
                "matcher": "200",
                "path": "/healthcheckupservice/HealthCheckUpWebService/HealthCheckUpEndPoint?wsdl",
                "port": "traffic-port",
                "protocol": "HTTP",
                "timeout": 5,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-back-8080/b6c9178d8089cc5d",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": "round_robin",
            "name": "tars-opsdev-cpc-back-8080",
            "name_prefix": null,
            "port": 8080,
            "preserve_client_ip": null,
            "protocol": "HTTP",
            "protocol_version": "HTTP1",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "cookie_name": "",
                "enabled": false,
                "type": "lb_cookie"
              }
            ],
            "tags": {},
            "tags_all": {},
            "target_type": "instance",
            "vpc_id": "vpc-91eab8f7"
          },
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb_target_group",
      "name": "cpc-front-dva-7443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dva-7443/ce466f75a50901fc",
            "arn_suffix": "targetgroup/tars-opsdev-cpc-dva-7443/ce466f75a50901fc",
            "deregistration_delay": 300,
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 10,
                "matcher": "200",
                "path": "/cpctrain/ping",
                "port": "traffic-port",
                "protocol": "HTTPS",
                "timeout": 5,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dva-7443/ce466f75a50901fc",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": "round_robin",
            "name": "tars-opsdev-cpc-dva-7443",
            "name_prefix": null,
            "port": 7443,
            "preserve_client_ip": null,
            "protocol": "HTTPS",
            "protocol_version": "HTTP1",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "cookie_name": "",
                "enabled": true,
                "type": "lb_cookie"
              }
            ],
            "tags": {},
            "tags_all": {},
            "target_type": "instance",
            "vpc_id": "vpc-91eab8f7"
          },
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb_target_group",
      "name": "cpc-front-dvsa-8443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dvsa-8443/0803f2ebff78c656",
            "arn_suffix": "targetgroup/tars-opsdev-cpc-dvsa-8443/0803f2ebff78c656",
            "deregistration_delay": 300,
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 10,
                "matcher": "200",
                "path": "/cpctrain/ping",
                "port": "traffic-port",
                "protocol": "HTTPS",
                "timeout": 5,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dvsa-8443/0803f2ebff78c656",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": "round_robin",
            "name": "tars-opsdev-cpc-dvsa-8443",
            "name_prefix": null,
            "port": 8443,
            "preserve_client_ip": null,
            "protocol": "HTTPS",
            "protocol_version": "HTTP1",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "cookie_name": "",
                "enabled": true,
                "type": "lb_cookie"
              }
            ],
            "tags": {},
            "tags_all": {},
            "target_type": "instance",
            "vpc_id": "vpc-91eab8f7"
          },
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb_target_group",
      "name": "cpc-front-dvsa-internet-8443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dvsa-inet-8443/a1c69ea750bc6897",
            "arn_suffix": "targetgroup/tars-opsdev-cpc-dvsa-inet-8443/a1c69ea750bc6897",
            "deregistration_delay": 300,
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 10,
                "matcher": "200",
                "path": "/cpctrain/ping",
                "port": "traffic-port",
                "protocol": "HTTPS",
                "timeout": 5,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dvsa-inet-8443/a1c69ea750bc6897",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": "round_robin",
            "name": "tars-opsdev-cpc-dvsa-inet-8443",
            "name_prefix": null,
            "port": 8443,
            "preserve_client_ip": null,
            "protocol": "HTTPS",
            "protocol_version": "HTTP1",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "cookie_name": "",
                "enabled": true,
                "type": "lb_cookie"
              }
            ],
            "tags": {},
            "tags_all": {},
            "target_type": "instance",
            "vpc_id": "vpc-91eab8f7"
          },
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_alb_target_group",
      "name": "cpc-front-internal-9443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-internal-9443/d418a1fac413c213",
            "arn_suffix": "targetgroup/tars-opsdev-cpc-internal-9443/d418a1fac413c213",
            "deregistration_delay": 300,
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 10,
                "matcher": "200",
                "path": "/cpctrain/ping",
                "port": "traffic-port",
                "protocol": "HTTPS",
                "timeout": 5,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-internal-9443/d418a1fac413c213",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": "round_robin",
            "name": "tars-opsdev-cpc-internal-9443",
            "name_prefix": null,
            "port": 9443,
            "preserve_client_ip": null,
            "protocol": "HTTPS",
            "protocol_version": "HTTP1",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "cookie_name": "",
                "enabled": true,
                "type": "lb_cookie"
              }
            ],
            "tags": {},
            "tags_all": {},
            "target_type": "instance",
            "vpc_id": "vpc-91eab8f7"
          },
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_autoscaling_attachment",
      "name": "cpc-back",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alb_target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-back-8080/b6c9178d8089cc5d",
            "autoscaling_group_name": "tars-opsdev-cpc/cpc-back",
            "elb": null,
            "id": "tars-opsdev-cpc/cpc-back-20200214122410547000000007"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_alb_target_group.cpc-back-8080",
            "module.cpc-back.aws_autoscaling_group.main",
            "module.cpc-back.aws_iam_instance_profile.main",
            "module.cpc-back.aws_launch_configuration.main",
            "module.cpc-back.aws_security_group.main",
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_autoscaling_attachment",
      "name": "cpc-back-8080",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alb_target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-back-8080/b6c9178d8089cc5d",
            "autoscaling_group_name": "tars-opsdev-cpc/cpc-back",
            "elb": null,
            "id": "tars-opsdev-cpc/cpc-back-20200214122411699500000008"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_alb_target_group.cpc-back-8080",
            "module.cpc-back.aws_autoscaling_group.main",
            "module.cpc-back.aws_iam_instance_profile.main",
            "module.cpc-back.aws_launch_configuration.main",
            "module.cpc-back.aws_security_group.main",
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_autoscaling_attachment",
      "name": "cpc-front-dva-7443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alb_target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dva-7443/ce466f75a50901fc",
            "autoscaling_group_name": "tars-opsdev-cpc/cpc-front",
            "elb": null,
            "id": "tars-opsdev-cpc/cpc-front-20200214122410470200000006"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_alb_target_group.cpc-front-dva-7443",
            "module.cpc-front.aws_autoscaling_group.main",
            "module.cpc-front.aws_iam_instance_profile.main",
            "module.cpc-front.aws_launch_configuration.main",
            "module.cpc-front.aws_security_group.main",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_autoscaling_attachment",
      "name": "cpc-front-dvsa-8443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alb_target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dvsa-8443/0803f2ebff78c656",
            "autoscaling_group_name": "tars-opsdev-cpc/cpc-front",
            "elb": null,
            "id": "tars-opsdev-cpc/cpc-front-20200214122410457900000005"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_alb_target_group.cpc-front-dvsa-8443",
            "module.cpc-front.aws_autoscaling_group.main",
            "module.cpc-front.aws_iam_instance_profile.main",
            "module.cpc-front.aws_launch_configuration.main",
            "module.cpc-front.aws_security_group.main",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_autoscaling_attachment",
      "name": "cpc-front-dvsa-internet-8443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alb_target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dvsa-inet-8443/a1c69ea750bc6897",
            "autoscaling_group_name": "tars-opsdev-cpc/cpc-front",
            "elb": null,
            "id": "tars-opsdev-cpc/cpc-front-20200214122410432600000003"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_alb_target_group.cpc-front-dvsa-internet-8443",
            "module.cpc-front.aws_autoscaling_group.main",
            "module.cpc-front.aws_iam_instance_profile.main",
            "module.cpc-front.aws_launch_configuration.main",
            "module.cpc-front.aws_security_group.main",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_autoscaling_attachment",
      "name": "cpc-front-internal-9443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alb_target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-internal-9443/d418a1fac413c213",
            "autoscaling_group_name": "tars-opsdev-cpc/cpc-front",
            "elb": null,
            "id": "tars-opsdev-cpc/cpc-front-20200214122410450500000004"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_alb_target_group.cpc-front-internal-9443",
            "module.cpc-front.aws_autoscaling_group.main",
            "module.cpc-front.aws_iam_instance_profile.main",
            "module.cpc-front.aws_launch_configuration.main",
            "module.cpc-front.aws_security_group.main",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "rds_freestoragespace_average",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": [
              "arn:aws:sns:eu-west-1:652856684323:tars-opsdev-base-alerts"
            ],
            "alarm_description": "Alarm when the Average RDS Free Storage Space is less than or equal to 5GB for a period of 5 minutes.",
            "alarm_name": "tars-opsdev-cpc-rds-freestoragespace-average",
            "arn": "arn:aws:cloudwatch:eu-west-1:652856684323:alarm:tars-opsdev-cpc-rds-freestoragespace-average",
            "comparison_operator": "LessThanOrEqualToThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "DBInstanceIdentifier": "tars-opsdev-cpc-cpcdb"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 1,
            "extended_statistic": "",
            "id": "tars-opsdev-cpc-rds-freestoragespace-average",
            "insufficient_data_actions": [],
            "metric_name": "FreeStorageSpace",
            "metric_query": [],
            "namespace": "AWS/RDS",
            "ok_actions": [],
            "period": 300,
            "statistic": "Average",
            "tags": {},
            "tags_all": {},
            "threshold": 5000000000,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": "Bytes"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_db_instance.cpcdb",
            "aws_db_option_group.cpcdb",
            "aws_db_parameter_group.cpc",
            "aws_db_subnet_group.cpcdb",
            "aws_security_group.cpc-db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_db_instance",
      "name": "cpcdb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "address": "tars-opsdev-cpc-cpcdb.csykghebz80i.eu-west-1.rds.amazonaws.com",
            "allocated_storage": 50,
            "allow_major_version_upgrade": true,
            "apply_immediately": true,
            "arn": "arn:aws:rds:eu-west-1:652856684323:db:tars-opsdev-cpc-cpcdb",
            "auto_minor_version_upgrade": true,
            "availability_zone": "eu-west-1b",
            "backup_retention_period": 7,
            "backup_window": "02:38-03:08",
            "ca_cert_identifier": "rds-ca-2019",
            "character_set_name": "AL32UTF8",
            "copy_tags_to_snapshot": false,
            "db_subnet_group_name": "tars-opsdev-cpc-cpcdb",
            "delete_automated_backups": true,
            "deletion_protection": false,
            "domain": "",
            "domain_iam_role_name": "",
            "enabled_cloudwatch_logs_exports": [
              "alert",
              "listener"
            ],
            "endpoint": "tars-opsdev-cpc-cpcdb.csykghebz80i.eu-west-1.rds.amazonaws.com:1521",
            "engine": "oracle-se2",
            "engine_version": "12.2.0.1.ru-2021-01.rur-2021-01.r1",
            "final_snapshot_identifier": "tars-opsdev-cpc-cpcdb-final",
            "hosted_zone_id": "Z29XKXDKYMONMX",
            "iam_database_authentication_enabled": false,
            "id": "tars-opsdev-cpc-cpcdb",
            "identifier": "tars-opsdev-cpc-cpcdb",
            "identifier_prefix": null,
            "instance_class": "db.t3.medium",
            "iops": 0,
            "kms_key_id": "",
            "latest_restorable_time": "2021-09-08T08:39:53Z",
            "license_model": "license-included",
            "maintenance_window": "sun:03:16-sun:03:46",
            "max_allocated_storage": 0,
            "monitoring_interval": 0,
            "monitoring_role_arn": "",
            "multi_az": false,
            "name": "CPCDB",
            "option_group_name": "tars-opsdev-cpc-option-group-12-2",
            "parameter_group_name": "tars-opsdev-cpc-cpcdb-12-2",
            "password": "YwBWc8HvweT3Lun8",
            "performance_insights_enabled": false,
            "performance_insights_kms_key_id": "",
            "performance_insights_retention_period": 0,
            "port": 1521,
            "publicly_accessible": false,
            "replicas": [],
            "replicate_source_db": "",
            "resource_id": "db-OMPE35LC6U7LLUTUAVKYDIKAYM",
            "restore_to_point_in_time": [],
            "s3_import": [],
            "security_group_names": [],
            "skip_final_snapshot": true,
            "snapshot_identifier": "tars-opsdev-cpc-cpcdb-5-4-2019-5-7-0-2",
            "status": "available",
            "storage_encrypted": false,
            "storage_type": "gp2",
            "tags": {
              "AutoScale": "True",
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc-cpcdb",
              "Project": "tars"
            },
            "tags_all": {
              "AutoScale": "True",
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc-cpcdb",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null,
              "update": null
            },
            "timezone": "",
            "username": "cpcdevadmin",
            "vpc_security_group_ids": [
              "sg-89c66df5"
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NDgwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_db_subnet_group.cpcdb",
            "aws_security_group.cpc-db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_db_instance_role_association",
      "name": "cpc_db_reports",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "db_instance_identifier": "tars-opsdev-cpc-cpcdb",
            "feature_name": "S3_INTEGRATION",
            "id": "tars-opsdev-cpc-cpcdb,arn:aws:iam::652856684323:role/tars-opsdev-base-db-reports",
            "role_arn": "arn:aws:iam::652856684323:role/tars-opsdev-base-db-reports"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_db_instance.cpcdb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_db_option_group",
      "name": "cpc_12_2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:rds:eu-west-1:652856684323:og:tars-opsdev-cpc-option-group-12-2",
            "engine_name": "oracle-se2",
            "id": "tars-opsdev-cpc-option-group-12-2",
            "major_engine_version": "12.2",
            "name": "tars-opsdev-cpc-option-group-12-2",
            "name_prefix": null,
            "option": [
              {
                "db_security_group_memberships": [],
                "option_name": "S3_INTEGRATION",
                "option_settings": [],
                "port": 0,
                "version": "1.0",
                "vpc_security_group_memberships": []
              },
              {
                "db_security_group_memberships": [],
                "option_name": "SQLT",
                "option_settings": [],
                "port": 0,
                "version": "2016-04-29.v1",
                "vpc_security_group_memberships": []
              },
              {
                "db_security_group_memberships": [],
                "option_name": "SSL",
                "option_settings": [
                  {
                    "name": "SQLNET.SSL_VERSION",
                    "value": "1.2"
                  }
                ],
                "port": 2484,
                "version": "",
                "vpc_security_group_memberships": [
                  "sg-89c66df5"
                ]
              },
              {
                "db_security_group_memberships": [],
                "option_name": "STATSPACK",
                "option_settings": [],
                "port": 0,
                "version": "",
                "vpc_security_group_memberships": []
              },
              {
                "db_security_group_memberships": [],
                "option_name": "Timezone",
                "option_settings": [
                  {
                    "name": "TIME_ZONE",
                    "value": "Europe/London"
                  }
                ],
                "port": 0,
                "version": "",
                "vpc_security_group_memberships": []
              }
            ],
            "option_group_description": "Terraform Option Group",
            "tags": {},
            "tags_all": {},
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo5MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "aws_security_group.cpc-db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_db_option_group",
      "name": "cpcdb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:rds:eu-west-1:652856684323:og:tars-opsdev-cpc-option-group",
            "engine_name": "oracle-se2",
            "id": "tars-opsdev-cpc-option-group",
            "major_engine_version": "12.1",
            "name": "tars-opsdev-cpc-option-group",
            "name_prefix": null,
            "option": [
              {
                "db_security_group_memberships": [],
                "option_name": "S3_INTEGRATION",
                "option_settings": [],
                "port": 0,
                "version": "1.0",
                "vpc_security_group_memberships": []
              },
              {
                "db_security_group_memberships": [],
                "option_name": "SQLT",
                "option_settings": [],
                "port": 0,
                "version": "2016-04-29.v1",
                "vpc_security_group_memberships": []
              },
              {
                "db_security_group_memberships": [],
                "option_name": "STATSPACK",
                "option_settings": [],
                "port": 0,
                "version": "",
                "vpc_security_group_memberships": []
              },
              {
                "db_security_group_memberships": [],
                "option_name": "Timezone",
                "option_settings": [
                  {
                    "name": "TIME_ZONE",
                    "value": "Europe/London"
                  }
                ],
                "port": 0,
                "version": "",
                "vpc_security_group_memberships": []
              }
            ],
            "option_group_description": "Terraform Option Group",
            "tags": {},
            "tags_all": {},
            "timeouts": {
              "delete": null
            }
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo5MDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_db_parameter_group",
      "name": "cpc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:rds:eu-west-1:652856684323:pg:tars-opsdev-cpc-cpcdb",
            "description": "tars-opsdev-cpc-cpcdb",
            "family": "oracle-se2-12.1",
            "id": "tars-opsdev-cpc-cpcdb",
            "name": "tars-opsdev-cpc-cpcdb",
            "name_prefix": null,
            "parameter": [
              {
                "apply_method": "immediate",
                "name": "db_flashback_retention_target",
                "value": "4320"
              },
              {
                "apply_method": "immediate",
                "name": "job_queue_processes",
                "value": "100"
              },
              {
                "apply_method": "immediate",
                "name": "resource_limit",
                "value": "true"
              },
              {
                "apply_method": "pending-reboot",
                "name": "archive_lag_target",
                "value": "300"
              },
              {
                "apply_method": "pending-reboot",
                "name": "audit_trail",
                "value": "db"
              },
              {
                "apply_method": "pending-reboot",
                "name": "recyclebin",
                "value": "on"
              },
              {
                "apply_method": "pending-reboot",
                "name": "sql92_security",
                "value": "true"
              }
            ],
            "tags": {},
            "tags_all": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_db_parameter_group",
      "name": "cpc-12-2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:rds:eu-west-1:652856684323:pg:tars-opsdev-cpc-cpcdb-12-2",
            "description": "tars-opsdev-cpc-cpcdb-12-2",
            "family": "oracle-se2-12.2",
            "id": "tars-opsdev-cpc-cpcdb-12-2",
            "name": "tars-opsdev-cpc-cpcdb-12-2",
            "name_prefix": null,
            "parameter": [
              {
                "apply_method": "immediate",
                "name": "db_flashback_retention_target",
                "value": "4320"
              },
              {
                "apply_method": "immediate",
                "name": "db_keep_cache_size",
                "value": "167772160"
              },
              {
                "apply_method": "immediate",
                "name": "log_checkpoint_interval",
                "value": "10000"
              },
              {
                "apply_method": "immediate",
                "name": "log_checkpoints_to_alert",
                "value": "true"
              },
              {
                "apply_method": "immediate",
                "name": "open_cursors",
                "value": "1000"
              },
              {
                "apply_method": "immediate",
                "name": "optimizer_index_caching",
                "value": "90"
              },
              {
                "apply_method": "immediate",
                "name": "optimizer_index_cost_adj",
                "value": "1"
              },
              {
                "apply_method": "immediate",
                "name": "resource_limit",
                "value": "true"
              },
              {
                "apply_method": "immediate",
                "name": "undo_retention",
                "value": "14400"
              },
              {
                "apply_method": "pending-reboot",
                "name": "audit_trail",
                "value": "db"
              },
              {
                "apply_method": "pending-reboot",
                "name": "db_writer_processes",
                "value": "2"
              },
              {
                "apply_method": "pending-reboot",
                "name": "job_queue_processes",
                "value": "100"
              },
              {
                "apply_method": "pending-reboot",
                "name": "recyclebin",
                "value": "on"
              },
              {
                "apply_method": "pending-reboot",
                "name": "session_cached_cursors",
                "value": "75"
              }
            ],
            "tags": {},
            "tags_all": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_db_subnet_group",
      "name": "cpcdb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:rds:eu-west-1:652856684323:subgrp:tars-opsdev-cpc-cpcdb",
            "description": "tars-opsdev-cpc-cpcdb",
            "id": "tars-opsdev-cpc-cpcdb",
            "name": "tars-opsdev-cpc-cpcdb",
            "name_prefix": null,
            "subnet_ids": [
              "subnet-4ee52f14",
              "subnet-6eee6608",
              "subnet-c172ea89"
            ],
            "tags": {},
            "tags_all": {}
          },
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_dlm_lifecycle_policy",
      "name": "cpc_back_dlm",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:dlm:eu-west-1:652856684323:policy/policy-023c564234b5c89c7",
            "description": "opsdev-cpc-DLM lifecycle policy",
            "execution_role_arn": "arn:aws:iam::652856684323:role/dlm-lifecycle-role",
            "id": "policy-023c564234b5c89c7",
            "policy_details": [
              {
                "resource_types": [
                  "INSTANCE"
                ],
                "schedule": [
                  {
                    "copy_tags": true,
                    "create_rule": [
                      {
                        "interval": 24,
                        "interval_unit": "HOURS",
                        "times": [
                          "08:00"
                        ]
                      }
                    ],
                    "name": "cpc-opsdev-daily snapshots",
                    "retain_rule": [
                      {
                        "count": 7
                      }
                    ],
                    "tags_to_add": {
                      "SnapshotCreator": "DLM-cpc-opsdev"
                    }
                  }
                ],
                "target_tags": {
                  "Name": "tars-opsdev-cpc/cpc-back"
                }
              }
            ],
            "state": "ENABLED",
            "tags": {},
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.acc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_dlm_lifecycle_policy",
      "name": "cpc_batch_dlm",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:dlm:eu-west-1:652856684323:policy/policy-03b5796780947c115",
            "description": "opsdev-cpc-DLM lifecycle policy",
            "execution_role_arn": "arn:aws:iam::652856684323:role/dlm-lifecycle-role",
            "id": "policy-03b5796780947c115",
            "policy_details": [
              {
                "resource_types": [
                  "INSTANCE"
                ],
                "schedule": [
                  {
                    "copy_tags": true,
                    "create_rule": [
                      {
                        "interval": 24,
                        "interval_unit": "HOURS",
                        "times": [
                          "08:00"
                        ]
                      }
                    ],
                    "name": "cpc-opsdev-daily snapshots",
                    "retain_rule": [
                      {
                        "count": 7
                      }
                    ],
                    "tags_to_add": {
                      "SnapshotCreator": "DLM-cpc-opsdev"
                    }
                  }
                ],
                "target_tags": {
                  "Name": "tars-opsdev-cpc/cpc-batch"
                }
              }
            ],
            "state": "ENABLED",
            "tags": {},
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.terraform_remote_state.acc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_dlm_lifecycle_policy",
      "name": "cpc_front_dlm",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:dlm:eu-west-1:652856684323:policy/policy-009c74a2d1ed704e5",
            "description": "opsdev-cpc-DLM lifecycle policy",
            "execution_role_arn": "arn:aws:iam::652856684323:role/dlm-lifecycle-role",
            "id": "policy-009c74a2d1ed704e5",
            "policy_details": [
              {
                "resource_types": [
                  "INSTANCE"
                ],
                "schedule": [
                  {
                    "copy_tags": true,
                    "create_rule": [
                      {
                        "interval": 24,
                        "interval_unit": "HOURS",
                        "times": [
                          "08:00"
                        ]
                      }
                    ],
                    "name": "cpc-opsdev-daily snapshots",
                    "retain_rule": [
                      {
                        "count": 7
                      }
                    ],
                    "tags_to_add": {
                      "SnapshotCreator": "DLM-cpc-opsdev"
                    }
                  }
                ],
                "target_tags": {
                  "Name": "tars-opsdev-cpc/cpc-front"
                }
              }
            ],
            "state": "ENABLED",
            "tags": {},
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.acc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_efs_mount_target",
      "name": "cpc-batch",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "availability_zone_id": "euw1-az1",
            "availability_zone_name": "eu-west-1a",
            "dns_name": "fs-bf43d48b.efs.eu-west-1.amazonaws.com",
            "file_system_arn": "arn:aws:elasticfilesystem:eu-west-1:652856684323:file-system/fs-bf43d48b",
            "file_system_id": "fs-bf43d48b",
            "id": "fsmt-e13a8fd4",
            "ip_address": "10.167.5.116",
            "mount_target_dns_name": "eu-west-1a.fs-bf43d48b.efs.eu-west-1.amazonaws.com",
            "network_interface_id": "eni-04952d1fd6ad9344c",
            "owner_id": "652856684323",
            "security_groups": [
              "sg-07d44bc911f29f674"
            ],
            "subnet_id": "subnet-02f11d003dc36d22b"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_efs_file_system.cpc-batch-efs",
            "aws_security_group.cpc_batch_efs",
            "data.aws_availability_zones.available",
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base",
            "module.subnets_cpc_batch_efs.aws_subnet.subnets"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "availability_zone_id": "euw1-az2",
            "availability_zone_name": "eu-west-1b",
            "dns_name": "fs-bf43d48b.efs.eu-west-1.amazonaws.com",
            "file_system_arn": "arn:aws:elasticfilesystem:eu-west-1:652856684323:file-system/fs-bf43d48b",
            "file_system_id": "fs-bf43d48b",
            "id": "fsmt-e33a8fd6",
            "ip_address": "10.167.5.135",
            "mount_target_dns_name": "eu-west-1b.fs-bf43d48b.efs.eu-west-1.amazonaws.com",
            "network_interface_id": "eni-09bf754757254f0c9",
            "owner_id": "652856684323",
            "security_groups": [
              "sg-07d44bc911f29f674"
            ],
            "subnet_id": "subnet-070239ce8c771c2f4"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_efs_file_system.cpc-batch-efs",
            "aws_security_group.cpc_batch_efs",
            "data.aws_availability_zones.available",
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base",
            "module.subnets_cpc_batch_efs.aws_subnet.subnets"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "availability_zone_id": "euw1-az3",
            "availability_zone_name": "eu-west-1c",
            "dns_name": "fs-bf43d48b.efs.eu-west-1.amazonaws.com",
            "file_system_arn": "arn:aws:elasticfilesystem:eu-west-1:652856684323:file-system/fs-bf43d48b",
            "file_system_id": "fs-bf43d48b",
            "id": "fsmt-e03a8fd5",
            "ip_address": "10.167.5.157",
            "mount_target_dns_name": "eu-west-1c.fs-bf43d48b.efs.eu-west-1.amazonaws.com",
            "network_interface_id": "eni-07b550ea0cd620b26",
            "owner_id": "652856684323",
            "security_groups": [
              "sg-07d44bc911f29f674"
            ],
            "subnet_id": "subnet-0a6847d3d5145fd32"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_efs_file_system.cpc-batch-efs",
            "aws_security_group.cpc_batch_efs",
            "data.aws_availability_zones.available",
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base",
            "module.subnets_cpc_batch_efs.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cloudwatch_tars_core",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001-20210907101820854500000005",
            "policy_arn": "arn:aws:iam::652856684323:policy/tars-opsdev-base-cloudwatch",
            "role": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.terraform_remote_state.base",
            "module.cpc_batch.aws_iam_role.main",
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cpc_back_cloudwatch",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-back-20180620132056746400000001-20180622144624156100000004",
            "policy_arn": "arn:aws:iam::652856684323:policy/tars-opsdev-base-cloudwatch",
            "role": "tars-opsdev-cpc-cpc-back-20180620132056746400000001"
          },
          "dependencies": [
            "module.cpc-back.aws_iam_role.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cpc_back_hieradata",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-back-20180620132056746400000001-20180621091909732000000001",
            "policy_arn": "arn:aws:iam::652856684323:policy/tars-nonprod-acc-kms-hieradata-user",
            "role": "tars-opsdev-cpc-cpc-back-20180620132056746400000001"
          },
          "dependencies": [
            "module.cpc-back.aws_iam_role.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cpc_front_cloudwatch",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-front-20180620132056775900000003-20180622144624153200000003",
            "policy_arn": "arn:aws:iam::652856684323:policy/tars-opsdev-base-cloudwatch",
            "role": "tars-opsdev-cpc-cpc-front-20180620132056775900000003"
          },
          "dependencies": [
            "module.cpc-front.aws_iam_role.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cpc_front_hieradata",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-front-20180620132056775900000003-20180621091909738600000002",
            "policy_arn": "arn:aws:iam::652856684323:policy/tars-nonprod-acc-kms-hieradata-user",
            "role": "tars-opsdev-cpc-cpc-front-20180620132056775900000003"
          },
          "dependencies": [
            "module.cpc-front.aws_iam_role.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "hieradata",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001-20210907101820632000000004",
            "policy_arn": "arn:aws:iam::652856684323:policy/tars-nonprod-acc-kms-hieradata-user",
            "role": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.terraform_remote_state.acc",
            "module.cpc_batch.aws_iam_role.main",
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener_rule",
      "name": "cpc-front-dva-7443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dva-7443/ce466f75a50901fc",
                "type": "forward"
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener-rule/app/tars-opsdev-cpc-dva/7413f006438dbe77/953b991510b6d64a/97a06d8094249c4f",
            "condition": [
              {
                "host_header": [],
                "http_header": [],
                "http_request_method": [],
                "path_pattern": [
                  {
                    "values": [
                      "/cpctrain/*"
                    ]
                  }
                ],
                "query_string": [],
                "source_ip": []
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener-rule/app/tars-opsdev-cpc-dva/7413f006438dbe77/953b991510b6d64a/97a06d8094249c4f",
            "listener_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-dva/7413f006438dbe77/953b991510b6d64a",
            "priority": 99,
            "tags": null,
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_alb.cpc-front-dva",
            "aws_alb_listener.cpc-front-dva-7443",
            "aws_alb_target_group.cpc-front-dva-7443",
            "aws_security_group.cpc-front-dva-alb",
            "data.aws_acm_certificate.cpc_tars_dvsacloud_uk",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener_rule",
      "name": "cpc-front-dvsa-8443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dvsa-8443/0803f2ebff78c656",
                "type": "forward"
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener-rule/app/tars-opsdev-cpc-dvsa/bc3a21aefd60187b/d98dd3085769ff9b/33c14853654ccae8",
            "condition": [
              {
                "host_header": [],
                "http_header": [],
                "http_request_method": [],
                "path_pattern": [
                  {
                    "values": [
                      "/cpctrain/*"
                    ]
                  }
                ],
                "query_string": [],
                "source_ip": []
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener-rule/app/tars-opsdev-cpc-dvsa/bc3a21aefd60187b/d98dd3085769ff9b/33c14853654ccae8",
            "listener_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-dvsa/bc3a21aefd60187b/d98dd3085769ff9b",
            "priority": 99,
            "tags": null,
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_alb.cpc-front-dvsa",
            "aws_alb_listener.cpc-front-dvsa-8443",
            "aws_alb_target_group.cpc-front-dvsa-8443",
            "aws_security_group.cpc-front-dvsa-alb",
            "data.aws_acm_certificate.cpc_tars_dvsa_aws",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener_rule",
      "name": "cpc-front-dvsa-internet-8443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dvsa-inet-8443/a1c69ea750bc6897",
                "type": "forward"
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener-rule/app/tars-opsdev-cpc-dvsa-internet/7e4ab2cb6ea7b97b/5934379773747f3e/c42e8cae3921f46a",
            "condition": [
              {
                "host_header": [],
                "http_header": [],
                "http_request_method": [],
                "path_pattern": [
                  {
                    "values": [
                      "/cpctrain/*"
                    ]
                  }
                ],
                "query_string": [],
                "source_ip": []
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener-rule/app/tars-opsdev-cpc-dvsa-internet/7e4ab2cb6ea7b97b/5934379773747f3e/c42e8cae3921f46a",
            "listener_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-dvsa-internet/7e4ab2cb6ea7b97b/5934379773747f3e",
            "priority": 99,
            "tags": null,
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_alb.cpc-front-dvsa-internet",
            "aws_alb_listener.cpc-front-dvsa-internet-8443",
            "aws_alb_target_group.cpc-front-dvsa-internet-8443",
            "aws_security_group.cpc-front-dvsa-internet-alb",
            "data.aws_acm_certificate.cpc_front_dvsa_internet",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener_rule",
      "name": "cpc-front-internal-9443-cpcode",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-internal-9443/d418a1fac413c213",
                "type": "forward"
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener-rule/app/tars-opsdev-cpc-internal/36609345375cf92c/5e3709242eaa2c10/62c579bc35021cc9",
            "condition": [
              {
                "host_header": [],
                "http_header": [],
                "http_request_method": [],
                "path_pattern": [
                  {
                    "values": [
                      "/cpcode/*"
                    ]
                  }
                ],
                "query_string": [],
                "source_ip": []
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener-rule/app/tars-opsdev-cpc-internal/36609345375cf92c/5e3709242eaa2c10/62c579bc35021cc9",
            "listener_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-internal/36609345375cf92c/5e3709242eaa2c10",
            "priority": 89,
            "tags": null,
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_alb.cpc-front-internal",
            "aws_alb_listener.cpc-front-internal-9443",
            "aws_alb_target_group.cpc-front-internal-9443",
            "aws_security_group.cpc-front-internal-alb",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener_rule",
      "name": "cpc-front-internal-9443-cpctrain",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-internal-9443/d418a1fac413c213",
                "type": "forward"
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener-rule/app/tars-opsdev-cpc-internal/36609345375cf92c/5e3709242eaa2c10/6fa1d04261e54c01",
            "condition": [
              {
                "host_header": [],
                "http_header": [],
                "http_request_method": [],
                "path_pattern": [
                  {
                    "values": [
                      "/cpctrain/*"
                    ]
                  }
                ],
                "query_string": [],
                "source_ip": []
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener-rule/app/tars-opsdev-cpc-internal/36609345375cf92c/5e3709242eaa2c10/6fa1d04261e54c01",
            "listener_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-internal/36609345375cf92c/5e3709242eaa2c10",
            "priority": 88,
            "tags": null,
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_alb.cpc-front-internal",
            "aws_alb_listener.cpc-front-internal-9443",
            "aws_alb_target_group.cpc-front-internal-9443",
            "aws_security_group.cpc-front-internal-alb",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener_rule",
      "name": "cpc-front-internal-9443-delegated",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-internal-9443/d418a1fac413c213",
                "type": "forward"
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener-rule/app/tars-opsdev-cpc-internal/36609345375cf92c/5e3709242eaa2c10/46f8a49e049d7295",
            "condition": [
              {
                "host_header": [],
                "http_header": [],
                "http_request_method": [],
                "path_pattern": [
                  {
                    "values": [
                      "/delegated/*"
                    ]
                  }
                ],
                "query_string": [],
                "source_ip": []
              }
            ],
            "id": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener-rule/app/tars-opsdev-cpc-internal/36609345375cf92c/5e3709242eaa2c10/46f8a49e049d7295",
            "listener_arn": "arn:aws:elasticloadbalancing:eu-west-1:652856684323:listener/app/tars-opsdev-cpc-internal/36609345375cf92c/5e3709242eaa2c10",
            "priority": 90,
            "tags": null,
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_alb.cpc-front-internal",
            "aws_alb_listener.cpc-front-internal-9443",
            "aws_alb_target_group.cpc-front-internal-9443",
            "aws_security_group.cpc-front-internal-alb",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cpc-backend",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": true,
                "name": "internal-tars-opsdev-cpc-cpc-back-1437699250.eu-west-1.elb.amazonaws.com",
                "zone_id": "Z32O12XQLNTSW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "cpc-backend.opsdev.nonprod.tars.dev-dvsacloud.uk",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z0659159TZJUDRCB2GQD_cpc-backend_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "cpc-backend",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z0659159TZJUDRCB2GQD"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_alb.cpc-back",
            "aws_security_group.cpc-back-alb",
            "data.terraform_remote_state.base",
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cpc-dva",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": true,
                "name": "tars-opsdev-cpc-dva-864144566.eu-west-1.elb.amazonaws.com",
                "zone_id": "Z32O12XQLNTSW2"
              }
            ],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "cpc-opsdev.dvsa.tars.dev-dvsacloud.uk",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z1UDTPRHAMK3TV_cpc-opsdev_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "cpc-opsdev",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z1UDTPRHAMK3TV"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_alb.cpc-front-dva",
            "aws_security_group.cpc-front-dva-alb",
            "data.terraform_remote_state.acc",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cpc-dva-private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": true,
                "name": "tars-opsdev-cpc-dva-864144566.eu-west-1.elb.amazonaws.com",
                "zone_id": "Z32O12XQLNTSW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "cpc-opsdev.dvsa.tars.dev-dvsacloud.uk",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z02938282OXKNC86FS3WX_cpc-opsdev_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "cpc-opsdev",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z02938282OXKNC86FS3WX"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_alb.cpc-front-dva",
            "aws_security_group.cpc-front-dva-alb",
            "data.terraform_remote_state.base",
            "data.terraform_remote_state.ctrl"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cpc-dvsa",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": true,
                "name": "internal-tars-opsdev-cpc-dvsa-760439928.eu-west-1.elb.amazonaws.com",
                "zone_id": "Z32O12XQLNTSW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "cpc-dvsa.opsdev.nonprod.tars.dev-dvsacloud.uk",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z0659159TZJUDRCB2GQD_cpc-dvsa_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "cpc-dvsa",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z0659159TZJUDRCB2GQD"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_alb.cpc-front-dvsa",
            "aws_security_group.cpc-front-dvsa-alb",
            "data.terraform_remote_state.base",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cpc-dvsa-internet",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": true,
                "name": "tars-opsdev-cpc-dvsa-internet-2065130450.eu-west-1.elb.amazonaws.com",
                "zone_id": "Z32O12XQLNTSW2"
              }
            ],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "tars-opsdev-cpc-dvsa-internet.dvsa.tars.dev-dvsacloud.uk",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z1UDTPRHAMK3TV_tars-opsdev-cpc-dvsa-internet_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "tars-opsdev-cpc-dvsa-internet",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z1UDTPRHAMK3TV"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_alb.cpc-front-dvsa-internet",
            "aws_security_group.cpc-front-dvsa-internet-alb",
            "data.terraform_remote_state.acc",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cpc-dvsa-internet-private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": true,
                "name": "tars-opsdev-cpc-dvsa-internet-2065130450.eu-west-1.elb.amazonaws.com",
                "zone_id": "Z32O12XQLNTSW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "tars-opsdev-cpc-dvsa-internet.dvsa.tars.dev-dvsacloud.uk",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z02938282OXKNC86FS3WX_tars-opsdev-cpc-dvsa-internet_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "tars-opsdev-cpc-dvsa-internet",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z02938282OXKNC86FS3WX"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_alb.cpc-front-dvsa-internet",
            "aws_security_group.cpc-front-dvsa-internet-alb",
            "data.terraform_remote_state.base",
            "data.terraform_remote_state.ctrl"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cpc-internal",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": true,
                "name": "internal-tars-opsdev-cpc-internal-769413504.eu-west-1.elb.amazonaws.com",
                "zone_id": "Z32O12XQLNTSW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "cpc-internal.opsdev.nonprod.tars.dev-dvsacloud.uk",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z0659159TZJUDRCB2GQD_cpc-internal_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "cpc-internal",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z0659159TZJUDRCB2GQD"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_alb.cpc-front-internal",
            "aws_security_group.cpc-front-internal-alb",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cpc-internet",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": true,
                "name": "tars-opsdev-tars-core-apache-778436142.eu-west-1.elb.amazonaws.com",
                "zone_id": "Z32O12XQLNTSW2"
              }
            ],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "tars-opsdev-cpc-internet.dvsa.tars.dev-dvsacloud.uk",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z1UDTPRHAMK3TV_tars-opsdev-cpc-internet_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "tars-opsdev-cpc-internet",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z1UDTPRHAMK3TV"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "data.terraform_remote_state.acc",
            "data.terraform_remote_state.tars-core"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cpc-internet-private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": true,
                "name": "tars-opsdev-tars-core-apache-778436142.eu-west-1.elb.amazonaws.com",
                "zone_id": "Z32O12XQLNTSW2"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "tars-opsdev-cpc-internet.dvsa.tars.dev-dvsacloud.uk",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z02938282OXKNC86FS3WX_tars-opsdev-cpc-internet_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "tars-opsdev-cpc-internet",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z02938282OXKNC86FS3WX"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "data.terraform_remote_state.ctrl",
            "data.terraform_remote_state.tars-core"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cpcdb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": true,
                "name": "tars-opsdev-cpc-cpcdb.csykghebz80i.eu-west-1.rds.amazonaws.com",
                "zone_id": "Z29XKXDKYMONMX"
              }
            ],
            "allow_overwrite": true,
            "failover_routing_policy": [],
            "fqdn": "cpc-core-db.opsdev.tars.dvsa.aws",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z1RXZ8CQNQNQFU_cpc-core-db_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "cpc-core-db",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z1RXZ8CQNQNQFU"
          },
          "dependencies": [
            "aws_db_instance.cpcdb",
            "aws_db_option_group.cpcdb",
            "aws_db_parameter_group.cpc",
            "aws_db_subnet_group.cpcdb",
            "aws_security_group.cpc-db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "cpcdb_dvsacloud",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": true,
                "name": "tars-opsdev-cpc-cpcdb.csykghebz80i.eu-west-1.rds.amazonaws.com",
                "zone_id": "Z29XKXDKYMONMX"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "cpc-core-db.opsdev.nonprod.tars.dev-dvsacloud.uk",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z0659159TZJUDRCB2GQD_cpc-core-db_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "cpc-core-db",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z0659159TZJUDRCB2GQD"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_db_instance.cpcdb",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "cpc-back-alb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:security-group/sg-b6c76cca",
            "description": "tars-opsdev-cpc/cpc-back-alb",
            "egress": [
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0c6298c097b75219c"
                ],
                "self": false,
                "to_port": 8080
              }
            ],
            "id": "sg-b6c76cca",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow TCP/8080 from TARS back",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0af3b3d2d7d1bea93"
                ],
                "self": false,
                "to_port": 8080
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/8080 from TARSbatch",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-01d32ad186459717b"
                ],
                "self": false,
                "to_port": 8080
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/8080 from TARSfront",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-086b255ad20ea41e2"
                ],
                "self": false,
                "to_port": 8080
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/8080 from cpc back",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0c6298c097b75219c"
                ],
                "self": false,
                "to_port": 8080
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/8080 from cpc back",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0d3332285e95d0e17"
                ],
                "self": false,
                "to_port": 8080
              }
            ],
            "name": "tars-opsdev-cpc/cpc-back-alb",
            "name_prefix": "",
            "owner_id": "652856684323",
            "revoke_rules_on_delete": false,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/cpc-back-alb",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/cpc-back-alb",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "cpc-db",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:security-group/sg-89c66df5",
            "description": "tars-opsdev-cpc/cpc-db",
            "egress": [
              {
                "cidr_blocks": [],
                "description": "CPC to MIS",
                "from_port": 1521,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-00e2c0ab95a2b1496"
                ],
                "self": false,
                "to_port": 1521
              }
            ],
            "id": "sg-89c66df5",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow TCP/1521 from Bastion",
                "from_port": 1521,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-02683b53d8b90594e"
                ],
                "self": false,
                "to_port": 1521
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/1521 from CPC Batch",
                "from_port": 1521,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0737e84aeb236f07f"
                ],
                "self": false,
                "to_port": 1521
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/1521 from CPC",
                "from_port": 1521,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0c6298c097b75219c"
                ],
                "self": false,
                "to_port": 1521
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/1521 from Jenkinsctrl",
                "from_port": 1521,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0049364e43e54519a"
                ],
                "self": false,
                "to_port": 1521
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/1521 from MIS DB",
                "from_port": 1521,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-00e2c0ab95a2b1496"
                ],
                "self": false,
                "to_port": 1521
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/1521 from Mock",
                "from_port": 1521,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0db80e623fb9dbd0a"
                ],
                "self": false,
                "to_port": 1521
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/1521 from Prometheus to RDS",
                "from_port": 1521,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0b5b5f68ceb2f83ee"
                ],
                "self": false,
                "to_port": 1521
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/1521 from TARS Batch",
                "from_port": 1521,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-01d32ad186459717b"
                ],
                "self": false,
                "to_port": 1521
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/1521 inbound",
                "from_port": 1521,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-04b52b029e3015418"
                ],
                "self": false,
                "to_port": 1521
              }
            ],
            "name": "tars-opsdev-cpc/cpc-db",
            "name_prefix": "",
            "owner_id": "652856684323",
            "revoke_rules_on_delete": false,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/cpc-db",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/cpc-db",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "cpc-front-dva-alb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:security-group/sg-d1da71ad",
            "description": "tars-opsdev-cpc/dva-alb",
            "egress": [
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 7443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0d3332285e95d0e17"
                ],
                "self": false,
                "to_port": 7443
              }
            ],
            "id": "sg-d1da71ad",
            "ingress": [
              {
                "cidr_blocks": [
                  "148.253.134.213/32",
                  "194.32.31.1/32",
                  "194.32.29.1/32"
                ],
                "description": "",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              },
              {
                "cidr_blocks": [
                  "54.72.37.158/32"
                ],
                "description": "",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              }
            ],
            "name": "tars-opsdev-cpc/dva-alb",
            "name_prefix": "",
            "owner_id": "652856684323",
            "revoke_rules_on_delete": false,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/dva-alb",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/dva-alb",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "cpc-front-dvsa-alb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:security-group/sg-fdc46f81",
            "description": "tars-opsdev-cpc/dvsa-alb",
            "egress": [
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 8443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0d3332285e95d0e17"
                ],
                "self": false,
                "to_port": 8443
              }
            ],
            "id": "sg-fdc46f81",
            "ingress": [
              {
                "cidr_blocks": [
                  "10.0.0.0/8"
                ],
                "description": "",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              }
            ],
            "name": "tars-opsdev-cpc/dvsa-alb",
            "name_prefix": "",
            "owner_id": "652856684323",
            "revoke_rules_on_delete": false,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/dvsa-alb",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/dvsa-alb",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "cpc-front-dvsa-internet-alb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:security-group/sg-030be28a13b81c5a0",
            "description": "tars-opsdev-cpc/dvsa-internet-alb",
            "egress": [
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-012da419ebe749f4b"
                ],
                "self": false,
                "to_port": 8080
              },
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 8443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0d3332285e95d0e17"
                ],
                "self": false,
                "to_port": 8443
              }
            ],
            "id": "sg-030be28a13b81c5a0",
            "ingress": [
              {
                "cidr_blocks": [
                  "135.196.73.204/32",
                  "213.160.121.250/32",
                  "10.201.80.0/21",
                  "10.69.3.64/26",
                  "10.69.131.64/26",
                  "148.253.134.213/32",
                  "54.72.37.158/32",
                  "199.83.128.0/21",
                  "198.143.32.0/19",
                  "149.126.72.0/21",
                  "103.28.248.0/22",
                  "185.11.124.0/22",
                  "192.230.64.0/18",
                  "45.64.64.0/22",
                  "107.154.0.0/16",
                  "45.60.0.0/16",
                  "45.223.0.0/16",
                  "54.76.206.25/32",
                  "10.69.3.15/32",
                  "10.69.3.16/32",
                  "10.69.3.17/32",
                  "10.69.3.18/32",
                  "10.69.1.70/31",
                  "10.84.192.159/32",
                  "10.84.192.161/32",
                  "85.115.53.201/32",
                  "80.194.75.82/32"
                ],
                "description": "",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              },
              {
                "cidr_blocks": [
                  "154.14.88.249/32"
                ],
                "description": "",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              },
              {
                "cidr_blocks": [
                  "34.242.28.119/32"
                ],
                "description": "",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              },
              {
                "cidr_blocks": [
                  "52.214.31.165/32"
                ],
                "description": "",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              }
            ],
            "name": "tars-opsdev-cpc/dvsa-internet-alb",
            "name_prefix": "",
            "owner_id": "652856684323",
            "revoke_rules_on_delete": false,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/dvsa-internet-alb",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/dvsa-internet-alb",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "cpc-front-internal-alb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:security-group/sg-00cab1caed7fe4b47",
            "description": "tars-opsdev-cpc/internal-alb",
            "egress": [
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 9443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0d3332285e95d0e17"
                ],
                "self": false,
                "to_port": 9443
              }
            ],
            "id": "sg-00cab1caed7fe4b47",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-02b4d13ba5692709e"
                ],
                "self": false,
                "to_port": 80
              }
            ],
            "name": "tars-opsdev-cpc/internal-alb",
            "name_prefix": "",
            "owner_id": "652856684323",
            "revoke_rules_on_delete": false,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/internal-alb",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/internal-alb",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "cpc-oem",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:security-group/sg-40c46f3c",
            "description": "tars-opsdev-cpc/oem",
            "egress": [],
            "id": "sg-40c46f3c",
            "ingress": [],
            "name": "tars-opsdev-cpc/oem",
            "name_prefix": "",
            "owner_id": "652856684323",
            "revoke_rules_on_delete": false,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/oem",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc/oem",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "cpc_batch_efs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:security-group/sg-07d44bc911f29f674",
            "description": "tars-opsdev-cpc-cpc-batch-efs",
            "egress": [],
            "id": "sg-07d44bc911f29f674",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 2049,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0737e84aeb236f07f"
                ],
                "self": false,
                "to_port": 2049
              }
            ],
            "name": "tars-opsdev-cpc-cpc-batch-efs",
            "name_prefix": "",
            "owner_id": "652856684323",
            "revoke_rules_on_delete": false,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc-cpc-batch-efs",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Name": "tars-opsdev-cpc-cpc-batch-efs",
              "Project": "tars"
            },
            "timeouts": null,
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "active_mq_ingress_cpc_back",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/61617 from CPC Back",
            "from_port": 61617,
            "id": "sgrule-694115920",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-3c8a2440",
            "self": false,
            "source_security_group_id": "sg-0c6298c097b75219c",
            "to_port": 61617,
            "type": "ingress"
          },
          "dependencies": [
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "backend_egress_elc_port_11211",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "cpc backend to 11211 elasticache",
            "from_port": 11211,
            "id": "sgrule-1827371514",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0c6298c097b75219c",
            "self": false,
            "source_security_group_id": "sg-a78d23db",
            "to_port": 11211,
            "type": "egress"
          },
          "dependencies": [
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "bastion_egress_rds_sg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/1521 from Bastion to RDS",
            "from_port": 1521,
            "id": "sgrule-1017749000",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-02683b53d8b90594e",
            "self": false,
            "source_security_group_id": "sg-89c66df5",
            "to_port": 1521,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-back-alb_egress_cpc-back",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 8080,
            "id": "sgrule-3995915473",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-b6c76cca",
            "self": false,
            "source_security_group_id": "sg-0c6298c097b75219c",
            "to_port": 8080,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-back-alb",
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-back-alb_ingress_cpc_front",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 8080,
            "id": "sgrule-3607401334",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-b6c76cca",
            "self": false,
            "source_security_group_id": "sg-0d3332285e95d0e17",
            "to_port": 8080,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-back-alb",
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-back-ingress-cpc-back-alb-8080",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 8080,
            "id": "sgrule-954060256",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0c6298c097b75219c",
            "self": false,
            "source_security_group_id": "sg-b6c76cca",
            "to_port": 8080,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-back-alb",
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-alb_egress_cpc-front-7443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 7443,
            "id": "sgrule-1523914560",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-d1da71ad",
            "self": false,
            "source_security_group_id": "sg-0d3332285e95d0e17",
            "to_port": 7443,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-front-dva-alb",
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-alb_egress_cpc-front-8443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 8443,
            "id": "sgrule-1243463698",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-fdc46f81",
            "self": false,
            "source_security_group_id": "sg-0d3332285e95d0e17",
            "to_port": 8443,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-front-dvsa-alb",
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-alb_egress_cpc-front-9443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 9443,
            "id": "sgrule-4019395847",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-00cab1caed7fe4b47",
            "self": false,
            "source_security_group_id": "sg-0d3332285e95d0e17",
            "to_port": 9443,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-front-internal-alb",
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-alb_egress_cpc-front-dvsa-internet-8443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 8443,
            "id": "sgrule-2064127429",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-030be28a13b81c5a0",
            "self": false,
            "source_security_group_id": "sg-0d3332285e95d0e17",
            "to_port": 8443,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-front-dvsa-internet-alb",
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-alb_ingress_dva-443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "148.253.134.213/32",
              "194.32.31.1/32",
              "194.32.29.1/32",
              "54.72.37.158/32"
            ],
            "description": "",
            "from_port": 443,
            "id": "sgrule-1964758748",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-d1da71ad",
            "self": false,
            "source_security_group_id": null,
            "to_port": 443,
            "type": "ingress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.cpc-front-dva-alb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-alb_ingress_dvsa-443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "10.0.0.0/8"
            ],
            "description": "",
            "from_port": 443,
            "id": "sgrule-182196375",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-fdc46f81",
            "self": false,
            "source_security_group_id": null,
            "to_port": 443,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-front-dvsa-alb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-alb_ingress_dvsa-internet-443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "135.196.73.204/32",
              "213.160.121.250/32",
              "10.201.80.0/21",
              "10.69.3.64/26",
              "10.69.131.64/26",
              "148.253.134.213/32",
              "54.72.37.158/32",
              "199.83.128.0/21",
              "198.143.32.0/19",
              "149.126.72.0/21",
              "103.28.248.0/22",
              "185.11.124.0/22",
              "192.230.64.0/18",
              "45.64.64.0/22",
              "107.154.0.0/16",
              "45.60.0.0/16",
              "45.223.0.0/16",
              "54.76.206.25/32",
              "52.214.31.165/32",
              "10.69.3.15/32",
              "10.69.3.16/32",
              "10.69.3.17/32",
              "10.69.3.18/32",
              "10.69.1.70/31",
              "10.84.192.159/32",
              "10.84.192.161/32",
              "85.115.53.201/32",
              "80.194.75.82/32",
              "34.242.28.119/32",
              "154.14.88.249/32"
            ],
            "description": "",
            "from_port": 443,
            "id": "sgrule-4199845882",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-030be28a13b81c5a0",
            "self": false,
            "source_security_group_id": null,
            "to_port": 443,
            "type": "ingress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.cpc-front-dvsa-internet-alb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-alb_ingress_public-80",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 80,
            "id": "sgrule-1221129778",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-00cab1caed7fe4b47",
            "self": false,
            "source_security_group_id": "sg-02b4d13ba5692709e",
            "to_port": 80,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-front-internal-alb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-egress-cpc-back-alb-8080",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 8080,
            "id": "sgrule-918993425",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0d3332285e95d0e17",
            "self": false,
            "source_security_group_id": "sg-b6c76cca",
            "to_port": 8080,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-back-alb",
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-egress-tars-back-alb-8080",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 8080,
            "id": "sgrule-3758864100",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0d3332285e95d0e17",
            "self": false,
            "source_security_group_id": "sg-fc78d680",
            "to_port": 8080,
            "type": "egress"
          },
          "dependencies": [
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-ingress-cpc-front-dvs-alb-7443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 7443,
            "id": "sgrule-890682745",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0d3332285e95d0e17",
            "self": false,
            "source_security_group_id": "sg-d1da71ad",
            "to_port": 7443,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-front-dva-alb",
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-ingress-cpc-front-dvsa-alb-8443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 8443,
            "id": "sgrule-2873864702",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0d3332285e95d0e17",
            "self": false,
            "source_security_group_id": "sg-fdc46f81",
            "to_port": 8443,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-front-dvsa-alb",
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-ingress-cpc-front-dvsa-internet-alb-8443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 8443,
            "id": "sgrule-2900027237",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0d3332285e95d0e17",
            "self": false,
            "source_security_group_id": "sg-030be28a13b81c5a0",
            "to_port": 8443,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-front-dvsa-internet-alb",
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front-ingress-cpc-front-internal-alb-9443",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 9443,
            "id": "sgrule-1172529503",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0d3332285e95d0e17",
            "self": false,
            "source_security_group_id": "sg-00cab1caed7fe4b47",
            "to_port": 9443,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-front-internal-alb",
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc-front_egress_kms_endpoint",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow use of KMS endpoint",
            "from_port": 0,
            "id": "sgrule-4117434528",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0d3332285e95d0e17",
            "self": false,
            "source_security_group_id": "sg-0e832d72",
            "to_port": 0,
            "type": "egress"
          },
          "dependencies": [
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_back_alb_ingress_cpc_back",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/8080 from cpc back",
            "from_port": 8080,
            "id": "sgrule-2783265644",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-b6c76cca",
            "self": false,
            "source_security_group_id": "sg-0c6298c097b75219c",
            "to_port": 8080,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-back-alb",
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_back_alb_ingress_tars_back",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/8080 from TARS back",
            "from_port": 8080,
            "id": "sgrule-1868188210",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-b6c76cca",
            "self": false,
            "source_security_group_id": "sg-0af3b3d2d7d1bea93",
            "to_port": 8080,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-back-alb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_back_egress_active_mq",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/61617 to AWS MQ",
            "from_port": 61617,
            "id": "sgrule-2974075213",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0c6298c097b75219c",
            "self": false,
            "source_security_group_id": "sg-3c8a2440",
            "to_port": 61617,
            "type": "egress"
          },
          "dependencies": [
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_back_egress_cpc_back_alb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/8080 to CPC back ALB",
            "from_port": 8080,
            "id": "sgrule-2240639536",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0c6298c097b75219c",
            "self": false,
            "source_security_group_id": "sg-b6c76cca",
            "to_port": 8080,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-back-alb",
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_back_egress_dvla_elise",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "51.231.10.112/32"
            ],
            "description": "Allow TCP/443 to DVLA Elise",
            "from_port": 443,
            "id": "sgrule-1547178918",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0c6298c097b75219c",
            "self": false,
            "source_security_group_id": null,
            "to_port": 443,
            "type": "egress"
          },
          "dependencies": [
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_back_egress_kms_endpoint",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow use of KMS endpoint",
            "from_port": 0,
            "id": "sgrule-1808882543",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0c6298c097b75219c",
            "self": false,
            "source_security_group_id": "sg-0e832d72",
            "to_port": 0,
            "type": "egress"
          },
          "dependencies": [
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_back_egress_tars_back_alb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/8080 to TARS back ALB",
            "from_port": 8080,
            "id": "sgrule-1396735685",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0c6298c097b75219c",
            "self": false,
            "source_security_group_id": "sg-fc78d680",
            "to_port": 8080,
            "type": "egress"
          },
          "dependencies": [
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_batch_efs_ingress_cpc_batch_nfs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 2049,
            "id": "sgrule-2007183180",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-07d44bc911f29f674",
            "self": false,
            "source_security_group_id": "sg-0737e84aeb236f07f",
            "to_port": 2049,
            "type": "ingress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.cpc_batch_efs",
            "data.terraform_remote_state.base",
            "module.cpc_batch.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_batch_egress_active_mq",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/61617 to AWS MQ",
            "from_port": 61617,
            "id": "sgrule-1100441750",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0737e84aeb236f07f",
            "self": false,
            "source_security_group_id": "sg-3c8a2440",
            "to_port": 61617,
            "type": "egress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "data.terraform_remote_state.base",
            "module.cpc_batch.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_batch_egress_cpc_batch_efs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 2049,
            "id": "sgrule-3910107614",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0737e84aeb236f07f",
            "self": false,
            "source_security_group_id": "sg-07d44bc911f29f674",
            "to_port": 2049,
            "type": "egress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.cpc_batch_efs",
            "data.terraform_remote_state.base",
            "module.cpc_batch.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_batch_egress_cpc_db",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/1521 to CPC DB",
            "from_port": 1521,
            "id": "sgrule-2306726572",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0737e84aeb236f07f",
            "self": false,
            "source_security_group_id": "sg-89c66df5",
            "to_port": 1521,
            "type": "egress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.cpc-db",
            "data.terraform_remote_state.base",
            "module.cpc_batch.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_batch_egress_dvla_elise",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "51.231.10.112/32"
            ],
            "description": "Allow TCP/443 to DVLA Elise",
            "from_port": 443,
            "id": "sgrule-2901127805",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0737e84aeb236f07f",
            "self": false,
            "source_security_group_id": null,
            "to_port": 443,
            "type": "egress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "data.terraform_remote_state.base",
            "module.cpc_batch.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_batch_egress_kms_endpoint",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow use of KMS endpoint",
            "from_port": 0,
            "id": "sgrule-666038399",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0737e84aeb236f07f",
            "self": false,
            "source_security_group_id": "sg-0e832d72",
            "to_port": 0,
            "type": "egress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "data.terraform_remote_state.base",
            "module.cpc_batch.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_batch_egress_tars_back_alb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/8080 to TARS back ALB",
            "from_port": 8080,
            "id": "sgrule-3084001771",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0737e84aeb236f07f",
            "self": false,
            "source_security_group_id": "sg-fc78d680",
            "to_port": 8080,
            "type": "egress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "data.terraform_remote_state.base",
            "data.terraform_remote_state.tars-core",
            "module.cpc_batch.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_db_ingress_cpc_batch",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/1521 from CPC Batch",
            "from_port": 1521,
            "id": "sgrule-2441641194",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-89c66df5",
            "self": false,
            "source_security_group_id": "sg-0737e84aeb236f07f",
            "to_port": 1521,
            "type": "ingress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.cpc-db",
            "data.terraform_remote_state.base",
            "module.cpc_batch.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_egress_oracle_db",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/1521 to CPC DB",
            "from_port": 1521,
            "id": "sgrule-1844413826",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0c6298c097b75219c",
            "self": false,
            "source_security_group_id": "sg-89c66df5",
            "to_port": 1521,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-db",
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cpc_egress_sftpplus_nlb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "10.167.2.208/28",
              "10.167.2.224/28",
              "10.167.2.240/28"
            ],
            "description": "Allow TCP/15021 from SFTPPlus to CPC Batch",
            "from_port": 15021,
            "id": "sgrule-4038388994",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0737e84aeb236f07f",
            "self": false,
            "source_security_group_id": null,
            "to_port": 15021,
            "type": "egress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "data.terraform_remote_state.base",
            "module.cpc_batch.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "elc_ingress_backend_port_11211",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "cpc backend to 11211 elasticache",
            "from_port": 11211,
            "id": "sgrule-2116388644",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-a78d23db",
            "self": false,
            "source_security_group_id": "sg-0c6298c097b75219c",
            "to_port": 11211,
            "type": "ingress"
          },
          "dependencies": [
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "jenkinsctrl_egress_oracle_db",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/1521 to RDS",
            "from_port": 1521,
            "id": "sgrule-1960727421",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0049364e43e54519a",
            "self": false,
            "source_security_group_id": "sg-89c66df5",
            "to_port": 1521,
            "type": "egress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.cpc-db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "oracle_db_ingress_bastion",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/1521 from Bastion",
            "from_port": 1521,
            "id": "sgrule-599523889",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-89c66df5",
            "self": false,
            "source_security_group_id": "sg-02683b53d8b90594e",
            "to_port": 1521,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "oracle_db_ingress_cpc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/1521 from CPC",
            "from_port": 1521,
            "id": "sgrule-1051745765",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-89c66df5",
            "self": false,
            "source_security_group_id": "sg-0c6298c097b75219c",
            "to_port": 1521,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-db",
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "oracle_db_ingress_jemkinsctrl",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/1521 from Jenkinsctrl",
            "from_port": 1521,
            "id": "sgrule-4001844109",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-89c66df5",
            "self": false,
            "source_security_group_id": "sg-0049364e43e54519a",
            "to_port": 1521,
            "type": "ingress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.cpc-db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "oracle_db_ingress_prometheus",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/1521 from Prometheus to RDS",
            "from_port": 1521,
            "id": "sgrule-3536662452",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-89c66df5",
            "self": false,
            "source_security_group_id": "sg-0b5b5f68ceb2f83ee",
            "to_port": 1521,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "prometheus_egress_oracle_db",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/1521 from Prometheus to RDS",
            "from_port": 1521,
            "id": "sgrule-2626766163",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0b5b5f68ceb2f83ee",
            "self": false,
            "source_security_group_id": "sg-89c66df5",
            "to_port": 1521,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "tars-back-alb-ingress-cpc-front-8080",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "",
            "from_port": 8080,
            "id": "sgrule-3499570290",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-fc78d680",
            "self": false,
            "source_security_group_id": "sg-0d3332285e95d0e17",
            "to_port": 8080,
            "type": "ingress"
          },
          "dependencies": [
            "module.cpc-front.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "tars_back_alb_ingress_cpc_back",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/8080 from CPC back",
            "from_port": 8080,
            "id": "sgrule-2725700712",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-fc78d680",
            "self": false,
            "source_security_group_id": "sg-0c6298c097b75219c",
            "to_port": 8080,
            "type": "ingress"
          },
          "dependencies": [
            "module.cpc-back.aws_security_group.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "tars_back_egress_cpc_back_alb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/8080 to CPC back ALB",
            "from_port": 8080,
            "id": "sgrule-2217959237",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0af3b3d2d7d1bea93",
            "self": false,
            "source_security_group_id": "sg-b6c76cca",
            "to_port": 8080,
            "type": "egress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.cpc-back-alb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "tars_batch_egress_cpc_back",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/8080 to cpc back ALB",
            "from_port": 8080,
            "id": "sgrule-3051407755",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-01d32ad186459717b",
            "self": false,
            "source_security_group_id": "sg-b6c76cca",
            "to_port": 8080,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-back-alb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "tars_batch_egress_cpc_db",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/1521 to cpc DB",
            "from_port": 1521,
            "id": "sgrule-1568816697",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-01d32ad186459717b",
            "self": false,
            "source_security_group_id": "sg-89c66df5",
            "to_port": 1521,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "tars_batch_ingress_cpc_db",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/1521 from TARS Batch",
            "from_port": 1521,
            "id": "sgrule-891769449",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-89c66df5",
            "self": false,
            "source_security_group_id": "sg-01d32ad186459717b",
            "to_port": 1521,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-db"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "tars_core_apache_egress_cpc_internal_alb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/80 to CPC Front Internal ALB",
            "from_port": 80,
            "id": "sgrule-2676612333",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-02b4d13ba5692709e",
            "self": false,
            "source_security_group_id": "sg-00cab1caed7fe4b47",
            "to_port": 80,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-front-internal-alb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "tars_core_frontend_egress_cpc_backend_port_8080",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/8080 to CPC back ALB",
            "from_port": 8080,
            "id": "sgrule-2766549442",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-086b255ad20ea41e2",
            "self": false,
            "source_security_group_id": "sg-b6c76cca",
            "to_port": 8080,
            "type": "egress"
          },
          "dependencies": [
            "aws_security_group.cpc-back-alb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "tars_cpc_backend_ingress_tars_batch_port_8080",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/8080 from TARSbatch",
            "from_port": 8080,
            "id": "sgrule-2926726368",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-b6c76cca",
            "self": false,
            "source_security_group_id": "sg-01d32ad186459717b",
            "to_port": 8080,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-back-alb"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "tars_cpc_backend_ingress_tars_frontend_port_8080",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow TCP/8080 from TARSfront",
            "from_port": 8080,
            "id": "sgrule-2419646588",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-b6c76cca",
            "self": false,
            "source_security_group_id": "sg-086b255ad20ea41e2",
            "to_port": 8080,
            "type": "ingress"
          },
          "dependencies": [
            "aws_security_group.cpc-back-alb"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "bootstrap",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "91960752",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowLifecycleHookLaunchingCompletion\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"autoscaling:CompleteLifecycleAction\",\n      \"Resource\": \"arn:aws:autoscaling:eu-west-1:652856684323:autoScalingGroup:9a94b267-567c-48a0-98c8-427d0f709f13:autoScalingGroupName/tars-opsdev-cpc/cpc-back\"\n    },\n    {\n      \"Sid\": \"AllowAutoscalingDescribe\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"autoscaling:DescribeLifecycleHooks\",\n        \"autoscaling:DescribeAutoScalingInstances\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "autoscaling:CompleteLifecycleAction"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:autoscaling:eu-west-1:652856684323:autoScalingGroup:9a94b267-567c-48a0-98c8-427d0f709f13:autoScalingGroupName/tars-opsdev-cpc/cpc-back"
                ],
                "sid": "AllowLifecycleHookLaunchingCompletion"
              },
              {
                "actions": [
                  "autoscaling:DescribeAutoScalingInstances",
                  "autoscaling:DescribeLifecycleHooks"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "AllowAutoscalingDescribe"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "cwl_ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1650823773",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowPutCloudwatchLogs\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:DescribeLogStreams\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": \"arn:aws:logs:eu-west-1:652856684323:log-group:/aws/ec2/tars-opsdev-cpc/cpc-back/cloud-init-output:*\"\n    },\n    {\n      \"Sid\": \"AllowCreateLogGroup\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"logs:CreateLogGroup\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "logs:CreateLogStream",
                  "logs:DescribeLogStreams",
                  "logs:PutLogEvents"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:logs:eu-west-1:652856684323:log-group:/aws/ec2/tars-opsdev-cpc/cpc-back/cloud-init-output:*"
                ],
                "sid": "AllowPutCloudwatchLogs"
              },
              {
                "actions": [
                  "logs:CreateLogGroup"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "AllowCreateLogGroup"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "ec2_assume_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1903849331",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "ec2.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_autoscaling_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:autoscaling:eu-west-1:652856684323:autoScalingGroup:9a94b267-567c-48a0-98c8-427d0f709f13:autoScalingGroupName/tars-opsdev-cpc/cpc-back",
            "availability_zones": [
              "eu-west-1a",
              "eu-west-1b",
              "eu-west-1c"
            ],
            "capacity_rebalance": false,
            "default_cooldown": 300,
            "desired_capacity": 2,
            "enabled_metrics": [
              "GroupDesiredCapacity",
              "GroupInServiceInstances",
              "GroupMaxSize",
              "GroupMinSize",
              "GroupPendingInstances",
              "GroupTerminatingInstances",
              "GroupTotalInstances"
            ],
            "force_delete": false,
            "force_delete_warm_pool": null,
            "health_check_grace_period": 300,
            "health_check_type": "EC2",
            "id": "tars-opsdev-cpc/cpc-back",
            "initial_lifecycle_hook": [],
            "instance_refresh": [],
            "launch_configuration": "",
            "launch_template": [
              {
                "id": "lt-013bc866533a96232",
                "name": "tars-opsdev-cpc/cpc-back-20210129092653371700000003",
                "version": "$Latest"
              }
            ],
            "load_balancers": [],
            "max_instance_lifetime": 0,
            "max_size": 2,
            "metrics_granularity": "1Minute",
            "min_elb_capacity": null,
            "min_size": 0,
            "mixed_instances_policy": [],
            "name": "tars-opsdev-cpc/cpc-back",
            "name_prefix": "",
            "placement_group": "",
            "protect_from_scale_in": false,
            "service_linked_role_arn": "arn:aws:iam::652856684323:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
            "suspended_processes": [],
            "tag": [],
            "tags": [
              {
                "key": "Component",
                "propagate_at_launch": "true",
                "value": "cpc"
              },
              {
                "key": "Environment",
                "propagate_at_launch": "true",
                "value": "opsdev"
              },
              {
                "key": "Group",
                "propagate_at_launch": "true",
                "value": "nonprod"
              },
              {
                "key": "Module",
                "propagate_at_launch": "true",
                "value": "microservice"
              },
              {
                "key": "Name",
                "propagate_at_launch": "true",
                "value": "tars-opsdev-cpc/cpc-back"
              },
              {
                "key": "Nodetype",
                "propagate_at_launch": "true",
                "value": "cpc-back"
              },
              {
                "key": "Project",
                "propagate_at_launch": "true",
                "value": "tars"
              }
            ],
            "target_group_arns": [
              "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-back-8080/b6c9178d8089cc5d"
            ],
            "termination_policies": [
              "OldestInstance",
              "OldestLaunchConfiguration",
              "ClosestToNextInstanceHour"
            ],
            "timeouts": null,
            "vpc_zone_identifier": [
              "subnet-cfd84387",
              "subnet-d54ec6b3",
              "subnet-f9408aa3"
            ],
            "wait_for_capacity_timeout": "10m",
            "wait_for_elb_capacity": null,
            "warm_pool": []
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.cpc-back.aws_iam_instance_profile.main",
            "module.cpc-back.aws_launch_template.main",
            "module.cpc-back.aws_security_group.main",
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_autoscaling_lifecycle_hook",
      "name": "launching",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "autoscaling_group_name": "tars-opsdev-cpc/cpc-back",
            "default_result": "ABANDON",
            "heartbeat_timeout": 500,
            "id": "tars-opsdev-cpc/cpc-back/launching",
            "lifecycle_transition": "autoscaling:EC2_INSTANCE_LAUNCHING",
            "name": "tars-opsdev-cpc/cpc-back/launching",
            "notification_metadata": "",
            "notification_target_arn": "",
            "role_arn": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.cpc-back.aws_autoscaling_group.main",
            "module.cpc-back.aws_iam_instance_profile.main",
            "module.cpc-back.aws_launch_configuration.main",
            "module.cpc-back.aws_security_group.main",
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_cloudwatch_event_rule",
      "name": "failed_lifecycle_actions",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:events:eu-west-1:652856684323:rule/tars-opsdev-cpc-cpc-back-failed-lifecycle-actions",
            "description": "Alert on failed autoscaling lifecycle actions",
            "event_bus_name": "default",
            "event_pattern": "{\"detail\":{\"AutoScalingGroupName\":[\"tars-opsdev-cpc/cpc-back\"]},\"detail-type\":[\"EC2 Instance Launch Unsuccessful\",\"EC2 Instance Terminate Unsuccessful\"],\"source\":[\"aws.autoscaling\"]}",
            "id": "tars-opsdev-cpc-cpc-back-failed-lifecycle-actions",
            "is_enabled": true,
            "name": "tars-opsdev-cpc-cpc-back-failed-lifecycle-actions",
            "name_prefix": "",
            "role_arn": "",
            "schedule_expression": "",
            "tags": {},
            "tags_all": {}
          },
          "dependencies": [
            "module.cpc-back.aws_autoscaling_group.main",
            "module.cpc-back.aws_iam_instance_profile.main",
            "module.cpc-back.aws_iam_role.main",
            "module.cpc-back.aws_launch_configuration.main",
            "module.cpc-back.aws_security_group.main",
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_cloudwatch_event_target",
      "name": "sns",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:sns:eu-west-1:652856684323:tars-opsdev-base-alerts",
            "batch_target": [],
            "dead_letter_config": [],
            "ecs_target": [],
            "event_bus_name": "default",
            "http_target": [],
            "id": "tars-opsdev-cpc-cpc-back-failed-lifecycle-actions-tars-opsdev-cpc-cpc-back-failed-lifecycle-actions-target",
            "input": "",
            "input_path": "",
            "input_transformer": [
              {
                "input_paths": {
                  "asg": "$.detail.AutoScalingGroupName",
                  "cause": "$.detail.EC2InstanceId",
                  "event": "$.detail.StatusMessage"
                },
                "input_template": "{\n  \"Matcher\":     \"AutoScaling\",\n  \"Description\": \u003casg\u003e,\n  \"Event\":       \u003cevent\u003e,\n  \"Cause\":       \u003ccause\u003e\n}"
              }
            ],
            "kinesis_target": [],
            "retry_policy": [],
            "role_arn": "",
            "rule": "tars-opsdev-cpc-cpc-back-failed-lifecycle-actions",
            "run_command_targets": [],
            "sqs_target": [],
            "target_id": "tars-opsdev-cpc-cpc-back-failed-lifecycle-actions-target"
          },
          "dependencies": [
            "module.cpc-back.aws_autoscaling_group.main",
            "module.cpc-back.aws_cloudwatch_event_rule.failed_lifecycle_actions",
            "module.cpc-back.aws_iam_instance_profile.main",
            "module.cpc-back.aws_iam_role.main",
            "module.cpc-back.aws_launch_configuration.main",
            "module.cpc-back.aws_security_group.main",
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:eu-west-1:652856684323:log-group:/aws/ec2/tars-opsdev-cpc/cpc-back/cloud-init-output",
            "id": "/aws/ec2/tars-opsdev-cpc/cpc-back/cloud-init-output",
            "kms_key_id": "",
            "name": "/aws/ec2/tars-opsdev-cpc/cpc-back/cloud-init-output",
            "name_prefix": null,
            "retention_in_days": 30,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "/aws/ec2/tars-opsdev-cpc/cpc-back/cloud-init-output",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "/aws/ec2/tars-opsdev-cpc/cpc-back/cloud-init-output",
              "Project": "tars"
            }
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::652856684323:instance-profile/tars-opsdev-cpc-cpc-back-20180620132057652800000005",
            "create_date": "2018-06-20T13:19:22Z",
            "id": "tars-opsdev-cpc-cpc-back-20180620132057652800000005",
            "name": "tars-opsdev-cpc-cpc-back-20180620132057652800000005",
            "name_prefix": "tars-opsdev-cpc-cpc-back-",
            "path": "/",
            "role": "tars-opsdev-cpc-cpc-back-20180620132056746400000001",
            "tags": {},
            "tags_all": {},
            "unique_id": "AIPAILCDSUBXKLEJAZUMI"
          },
          "dependencies": [
            "module.cpc-back.aws_iam_role.main"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "bootstrap",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-back-bootstrap-20190128143720915200000003",
            "description": "",
            "id": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-back-bootstrap-20190128143720915200000003",
            "name": "tars-opsdev-cpc-cpc-back-bootstrap-20190128143720915200000003",
            "name_prefix": "tars-opsdev-cpc-cpc-back-bootstrap-",
            "path": "/",
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowLifecycleHookLaunchingCompletion\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"autoscaling:CompleteLifecycleAction\",\n      \"Resource\": \"arn:aws:autoscaling:eu-west-1:652856684323:autoScalingGroup:9a94b267-567c-48a0-98c8-427d0f709f13:autoScalingGroupName/tars-opsdev-cpc/cpc-back\"\n    },\n    {\n      \"Sid\": \"AllowAutoscalingDescribe\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"autoscaling:DescribeLifecycleHooks\",\n        \"autoscaling:DescribeAutoScalingInstances\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "policy_id": "ANPAJBN5ABLSNLET5IQW6",
            "tags": {},
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.cpc-back.aws_autoscaling_group.main",
            "module.cpc-back.aws_iam_instance_profile.main",
            "module.cpc-back.aws_launch_configuration.main",
            "module.cpc-back.aws_security_group.main",
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "cwl_ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-back-cwl-ec2",
            "description": "",
            "id": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-back-cwl-ec2",
            "name": "tars-opsdev-cpc-cpc-back-cwl-ec2",
            "name_prefix": null,
            "path": "/",
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowPutCloudwatchLogs\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:DescribeLogStreams\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": \"arn:aws:logs:eu-west-1:652856684323:log-group:/aws/ec2/tars-opsdev-cpc/cpc-back/cloud-init-output:*\"\n    },\n    {\n      \"Sid\": \"AllowCreateLogGroup\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"logs:CreateLogGroup\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "policy_id": "ANPAJOY27HBCDV455THUM",
            "tags": {},
            "tags_all": {}
          },
          "dependencies": [
            "module.cpc-back.aws_cloudwatch_log_group.ec2"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::652856684323:role/tars-opsdev-cpc-cpc-back-20180620132056746400000001",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2018-06-20T13:19:22Z",
            "description": "",
            "force_detach_policies": false,
            "id": "tars-opsdev-cpc-cpc-back-20180620132056746400000001",
            "inline_policy": [
              {
                "name": "",
                "policy": ""
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::652856684323:policy/tars-nonprod-acc-kms-hieradata-user",
              "arn:aws:iam::652856684323:policy/tars-opsdev-base-cloudwatch",
              "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-back-bootstrap-20190128143720915200000003",
              "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-back-cwl-ec2",
              "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
            ],
            "max_session_duration": 3600,
            "name": "tars-opsdev-cpc-cpc-back-20180620132056746400000001",
            "name_prefix": "tars-opsdev-cpc-cpc-back-",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAIVEXXCUX55WFAM3CG"
          },
          "dependencies": [
            "module.cpc-back.data.aws_iam_policy_document.ec2_assume_role"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "aws_ssm_managed_instance_core",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-back-20180620132056746400000001-20210813103806236100000003",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
            "role": "tars-opsdev-cpc-cpc-back-20180620132056746400000001"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.cpc-back.aws_iam_role.main"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "bootstrap",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-back-20180620132056746400000001-20190128143721630200000005",
            "policy_arn": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-back-bootstrap-20190128143720915200000003",
            "role": "tars-opsdev-cpc-cpc-back-20180620132056746400000001"
          },
          "dependencies": [
            "module.cpc-back.aws_autoscaling_group.main",
            "module.cpc-back.aws_iam_instance_profile.main",
            "module.cpc-back.aws_iam_policy.bootstrap",
            "module.cpc-back.aws_iam_role.main",
            "module.cpc-back.aws_launch_configuration.main",
            "module.cpc-back.aws_security_group.main",
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cwl_ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-back-20180620132056746400000001-20190215111748307300000004",
            "policy_arn": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-back-cwl-ec2",
            "role": "tars-opsdev-cpc-cpc-back-20180620132056746400000001"
          },
          "dependencies": [
            "module.cpc-back.aws_cloudwatch_log_group.ec2",
            "module.cpc-back.aws_iam_policy.cwl_ec2",
            "module.cpc-back.aws_iam_role.main"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_launch_template",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:launch-template/lt-013bc866533a96232",
            "block_device_mappings": [
              {
                "device_name": "/dev/xvda",
                "ebs": [
                  {
                    "delete_on_termination": "",
                    "encrypted": "",
                    "iops": 0,
                    "kms_key_id": "",
                    "snapshot_id": "",
                    "throughput": 0,
                    "volume_size": 16,
                    "volume_type": "gp3"
                  }
                ],
                "no_device": "",
                "virtual_name": ""
              }
            ],
            "capacity_reservation_specification": [],
            "cpu_options": [],
            "credit_specification": [],
            "default_version": 1,
            "description": "",
            "disable_api_termination": false,
            "ebs_optimized": "",
            "elastic_gpu_specifications": [],
            "elastic_inference_accelerator": [],
            "enclave_options": [],
            "hibernation_options": [],
            "iam_instance_profile": [
              {
                "arn": "",
                "name": "tars-opsdev-cpc-cpc-back-20180620132057652800000005"
              }
            ],
            "id": "lt-013bc866533a96232",
            "image_id": "ami-03e80ef443531ca1a",
            "instance_initiated_shutdown_behavior": "",
            "instance_market_options": [
              {
                "market_type": "spot",
                "spot_options": [
                  {
                    "block_duration_minutes": 0,
                    "instance_interruption_behavior": "",
                    "max_price": "0.0081",
                    "spot_instance_type": "",
                    "valid_until": ""
                  }
                ]
              }
            ],
            "instance_type": "m3.medium",
            "kernel_id": "",
            "key_name": "",
            "latest_version": 34,
            "license_specification": [],
            "metadata_options": [],
            "monitoring": [],
            "name": "tars-opsdev-cpc/cpc-back-20210129092653371700000003",
            "name_prefix": "tars-opsdev-cpc/cpc-back-",
            "network_interfaces": [],
            "placement": [],
            "ram_disk_id": "",
            "security_group_names": [],
            "tag_specifications": [
              {
                "resource_type": "volume",
                "tags": {
                  "Component": "cpc",
                  "Environment": "opsdev",
                  "Module": "microservice",
                  "Name": "tars-opsdev-cpc/cpc-back",
                  "Nodetype": "cpc-back",
                  "Project": "tars"
                }
              }
            ],
            "tags": {},
            "tags_all": {},
            "update_default_version": null,
            "user_data": "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",
            "vpc_security_group_ids": [
              "sg-0c6298c097b75219c",
              "sg-e1802e9d"
            ]
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_ami.cpc-back",
            "data.cloudinit_config.cpc-back",
            "data.terraform_remote_state.base",
            "module.cpc-back.aws_iam_instance_profile.main",
            "module.cpc-back.aws_security_group.main"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.cpc-back",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:security-group/sg-0c6298c097b75219c",
            "description": "tars-opsdev-cpc/cpc-back",
            "egress": [
              {
                "cidr_blocks": [
                  "51.231.10.112/32"
                ],
                "description": "Allow TCP/443 to DVLA Elise",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/1521 to CPC DB",
                "from_port": 1521,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-89c66df5"
                ],
                "self": false,
                "to_port": 1521
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/61617 to AWS MQ",
                "from_port": 61617,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-3c8a2440"
                ],
                "self": false,
                "to_port": 61617
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/8080 to CPC back ALB",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-b6c76cca"
                ],
                "self": false,
                "to_port": 8080
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/8080 to TARS back ALB",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-fc78d680"
                ],
                "self": false,
                "to_port": 8080
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/8080 to TARS mock ALB",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-02ef685dfd5e0a90a"
                ],
                "self": false,
                "to_port": 8080
              },
              {
                "cidr_blocks": [],
                "description": "Allow use of KMS endpoint",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [
                  "sg-0e832d72"
                ],
                "self": false,
                "to_port": 0
              },
              {
                "cidr_blocks": [],
                "description": "cpc backend to 11211 elasticache",
                "from_port": 11211,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-a78d23db"
                ],
                "self": false,
                "to_port": 11211
              }
            ],
            "id": "sg-0c6298c097b75219c",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-b6c76cca"
                ],
                "self": false,
                "to_port": 8080
              }
            ],
            "name": "tars-opsdev-cpc/cpc-back",
            "name_prefix": "",
            "owner_id": "652856684323",
            "revoke_rules_on_delete": false,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-back",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-back",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back.module.subnets",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-8503cefe",
            "route_table_id": "rtb-7f357006",
            "subnet_id": "subnet-d54ec6b3"
          },
          "dependencies": [
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-ab00cdd0",
            "route_table_id": "rtb-71327708",
            "subnet_id": "subnet-cfd84387"
          },
          "dependencies": [
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-b904c9c2",
            "route_table_id": "rtb-ae3075d7",
            "subnet_id": "subnet-f9408aa3"
          },
          "dependencies": [
            "module.cpc-back.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-back.module.subnets",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "subnets",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:subnet/subnet-d54ec6b3",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1a",
            "availability_zone_id": "euw1-az1",
            "cidr_block": "10.167.3.0/28",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-d54ec6b3",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "652856684323",
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-back/eu-west-1a",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-back/eu-west-1a",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.aws_availability_zones.available",
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:subnet/subnet-cfd84387",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1b",
            "availability_zone_id": "euw1-az2",
            "cidr_block": "10.167.3.16/28",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-cfd84387",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "652856684323",
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-back/eu-west-1b",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-back/eu-west-1b",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.aws_availability_zones.available",
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:subnet/subnet-f9408aa3",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1c",
            "availability_zone_id": "euw1-az3",
            "cidr_block": "10.167.3.32/28",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-f9408aa3",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "652856684323",
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-back/eu-west-1c",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-back/eu-west-1c",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.aws_availability_zones.available",
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "bootstrap",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2795959489",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowLifecycleHookLaunchingCompletion\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"autoscaling:CompleteLifecycleAction\",\n      \"Resource\": \"arn:aws:autoscaling:eu-west-1:652856684323:autoScalingGroup:e00e9d89-ae60-489b-beee-cc295baf38f9:autoScalingGroupName/tars-opsdev-cpc/cpc-front\"\n    },\n    {\n      \"Sid\": \"AllowAutoscalingDescribe\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"autoscaling:DescribeLifecycleHooks\",\n        \"autoscaling:DescribeAutoScalingInstances\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "autoscaling:CompleteLifecycleAction"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:autoscaling:eu-west-1:652856684323:autoScalingGroup:e00e9d89-ae60-489b-beee-cc295baf38f9:autoScalingGroupName/tars-opsdev-cpc/cpc-front"
                ],
                "sid": "AllowLifecycleHookLaunchingCompletion"
              },
              {
                "actions": [
                  "autoscaling:DescribeAutoScalingInstances",
                  "autoscaling:DescribeLifecycleHooks"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "AllowAutoscalingDescribe"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "cwl_ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "4158916640",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowPutCloudwatchLogs\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:DescribeLogStreams\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": \"arn:aws:logs:eu-west-1:652856684323:log-group:/aws/ec2/tars-opsdev-cpc/cpc-front/cloud-init-output:*\"\n    },\n    {\n      \"Sid\": \"AllowCreateLogGroup\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"logs:CreateLogGroup\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "logs:CreateLogStream",
                  "logs:DescribeLogStreams",
                  "logs:PutLogEvents"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:logs:eu-west-1:652856684323:log-group:/aws/ec2/tars-opsdev-cpc/cpc-front/cloud-init-output:*"
                ],
                "sid": "AllowPutCloudwatchLogs"
              },
              {
                "actions": [
                  "logs:CreateLogGroup"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "AllowCreateLogGroup"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "ec2_assume_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1903849331",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "ec2.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_autoscaling_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:autoscaling:eu-west-1:652856684323:autoScalingGroup:e00e9d89-ae60-489b-beee-cc295baf38f9:autoScalingGroupName/tars-opsdev-cpc/cpc-front",
            "availability_zones": [
              "eu-west-1a",
              "eu-west-1b",
              "eu-west-1c"
            ],
            "capacity_rebalance": false,
            "default_cooldown": 300,
            "desired_capacity": 2,
            "enabled_metrics": [
              "GroupDesiredCapacity",
              "GroupInServiceInstances",
              "GroupMaxSize",
              "GroupMinSize",
              "GroupPendingInstances",
              "GroupTerminatingInstances",
              "GroupTotalInstances"
            ],
            "force_delete": false,
            "force_delete_warm_pool": null,
            "health_check_grace_period": 300,
            "health_check_type": "EC2",
            "id": "tars-opsdev-cpc/cpc-front",
            "initial_lifecycle_hook": [],
            "instance_refresh": [],
            "launch_configuration": "",
            "launch_template": [
              {
                "id": "lt-028d3ae0a92220425",
                "name": "tars-opsdev-cpc/cpc-front-20210129092653369100000001",
                "version": "$Latest"
              }
            ],
            "load_balancers": [],
            "max_instance_lifetime": 0,
            "max_size": 2,
            "metrics_granularity": "1Minute",
            "min_elb_capacity": null,
            "min_size": 0,
            "mixed_instances_policy": [],
            "name": "tars-opsdev-cpc/cpc-front",
            "name_prefix": "",
            "placement_group": "",
            "protect_from_scale_in": false,
            "service_linked_role_arn": "arn:aws:iam::652856684323:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
            "suspended_processes": [],
            "tag": [],
            "tags": [
              {
                "key": "Component",
                "propagate_at_launch": "true",
                "value": "cpc"
              },
              {
                "key": "Environment",
                "propagate_at_launch": "true",
                "value": "opsdev"
              },
              {
                "key": "Group",
                "propagate_at_launch": "true",
                "value": "nonprod"
              },
              {
                "key": "Module",
                "propagate_at_launch": "true",
                "value": "microservice"
              },
              {
                "key": "Name",
                "propagate_at_launch": "true",
                "value": "tars-opsdev-cpc/cpc-front"
              },
              {
                "key": "Nodetype",
                "propagate_at_launch": "true",
                "value": "cpc-front"
              },
              {
                "key": "Project",
                "propagate_at_launch": "true",
                "value": "tars"
              }
            ],
            "target_group_arns": [
              "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dva-7443/ce466f75a50901fc",
              "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dvsa-8443/0803f2ebff78c656",
              "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-dvsa-inet-8443/a1c69ea750bc6897",
              "arn:aws:elasticloadbalancing:eu-west-1:652856684323:targetgroup/tars-opsdev-cpc-internal-9443/d418a1fac413c213"
            ],
            "termination_policies": [
              "OldestInstance",
              "OldestLaunchConfiguration",
              "ClosestToNextInstanceHour"
            ],
            "timeouts": null,
            "vpc_zone_identifier": [
              "subnet-044ec662",
              "subnet-2458927e",
              "subnet-a1d843e9"
            ],
            "wait_for_capacity_timeout": "10m",
            "wait_for_elb_capacity": null,
            "warm_pool": []
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.cpc-front.aws_iam_instance_profile.main",
            "module.cpc-front.aws_launch_template.main",
            "module.cpc-front.aws_security_group.main",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_autoscaling_lifecycle_hook",
      "name": "launching",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "autoscaling_group_name": "tars-opsdev-cpc/cpc-front",
            "default_result": "ABANDON",
            "heartbeat_timeout": 600,
            "id": "tars-opsdev-cpc/cpc-front/launching",
            "lifecycle_transition": "autoscaling:EC2_INSTANCE_LAUNCHING",
            "name": "tars-opsdev-cpc/cpc-front/launching",
            "notification_metadata": "",
            "notification_target_arn": "",
            "role_arn": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.cpc-front.aws_autoscaling_group.main"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_cloudwatch_event_rule",
      "name": "failed_lifecycle_actions",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:events:eu-west-1:652856684323:rule/tars-opsdev-cpc-cpc-front-failed-lifecycle-actions",
            "description": "Alert on failed autoscaling lifecycle actions",
            "event_bus_name": "default",
            "event_pattern": "{\"detail\":{\"AutoScalingGroupName\":[\"tars-opsdev-cpc/cpc-front\"]},\"detail-type\":[\"EC2 Instance Launch Unsuccessful\",\"EC2 Instance Terminate Unsuccessful\"],\"source\":[\"aws.autoscaling\"]}",
            "id": "tars-opsdev-cpc-cpc-front-failed-lifecycle-actions",
            "is_enabled": true,
            "name": "tars-opsdev-cpc-cpc-front-failed-lifecycle-actions",
            "name_prefix": "",
            "role_arn": "",
            "schedule_expression": "",
            "tags": {},
            "tags_all": {}
          },
          "dependencies": [
            "module.cpc-front.aws_autoscaling_group.main",
            "module.cpc-front.aws_iam_instance_profile.main",
            "module.cpc-front.aws_iam_role.main",
            "module.cpc-front.aws_launch_configuration.main",
            "module.cpc-front.aws_security_group.main",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_cloudwatch_event_target",
      "name": "sns",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:sns:eu-west-1:652856684323:tars-opsdev-base-alerts",
            "batch_target": [],
            "dead_letter_config": [],
            "ecs_target": [],
            "event_bus_name": "default",
            "http_target": [],
            "id": "tars-opsdev-cpc-cpc-front-failed-lifecycle-actions-tars-opsdev-cpc-cpc-front-failed-lifecycle-actions-target",
            "input": "",
            "input_path": "",
            "input_transformer": [
              {
                "input_paths": {
                  "asg": "$.detail.AutoScalingGroupName",
                  "cause": "$.detail.EC2InstanceId",
                  "event": "$.detail.StatusMessage"
                },
                "input_template": "{\n  \"Matcher\":     \"AutoScaling\",\n  \"Description\": \u003casg\u003e,\n  \"Event\":       \u003cevent\u003e,\n  \"Cause\":       \u003ccause\u003e\n}"
              }
            ],
            "kinesis_target": [],
            "retry_policy": [],
            "role_arn": "",
            "rule": "tars-opsdev-cpc-cpc-front-failed-lifecycle-actions",
            "run_command_targets": [],
            "sqs_target": [],
            "target_id": "tars-opsdev-cpc-cpc-front-failed-lifecycle-actions-target"
          },
          "dependencies": [
            "module.cpc-front.aws_autoscaling_group.main",
            "module.cpc-front.aws_cloudwatch_event_rule.failed_lifecycle_actions",
            "module.cpc-front.aws_iam_instance_profile.main",
            "module.cpc-front.aws_iam_role.main",
            "module.cpc-front.aws_launch_configuration.main",
            "module.cpc-front.aws_security_group.main",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:eu-west-1:652856684323:log-group:/aws/ec2/tars-opsdev-cpc/cpc-front/cloud-init-output",
            "id": "/aws/ec2/tars-opsdev-cpc/cpc-front/cloud-init-output",
            "kms_key_id": "",
            "name": "/aws/ec2/tars-opsdev-cpc/cpc-front/cloud-init-output",
            "name_prefix": null,
            "retention_in_days": 30,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "/aws/ec2/tars-opsdev-cpc/cpc-front/cloud-init-output",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "/aws/ec2/tars-opsdev-cpc/cpc-front/cloud-init-output",
              "Project": "tars"
            }
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::652856684323:instance-profile/tars-opsdev-cpc-cpc-front-20180620132057713100000006",
            "create_date": "2018-06-20T13:19:23Z",
            "id": "tars-opsdev-cpc-cpc-front-20180620132057713100000006",
            "name": "tars-opsdev-cpc-cpc-front-20180620132057713100000006",
            "name_prefix": "tars-opsdev-cpc-cpc-front-",
            "path": "/",
            "role": "tars-opsdev-cpc-cpc-front-20180620132056775900000003",
            "tags": {},
            "tags_all": {},
            "unique_id": "AIPAJ2HQVA5SSP5F4RWD2"
          },
          "dependencies": [
            "module.cpc-front.aws_iam_role.main"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "bootstrap",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-front-bootstrap-20190128144132354200000007",
            "description": "",
            "id": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-front-bootstrap-20190128144132354200000007",
            "name": "tars-opsdev-cpc-cpc-front-bootstrap-20190128144132354200000007",
            "name_prefix": "tars-opsdev-cpc-cpc-front-bootstrap-",
            "path": "/",
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowLifecycleHookLaunchingCompletion\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"autoscaling:CompleteLifecycleAction\",\n      \"Resource\": \"arn:aws:autoscaling:eu-west-1:652856684323:autoScalingGroup:e00e9d89-ae60-489b-beee-cc295baf38f9:autoScalingGroupName/tars-opsdev-cpc/cpc-front\"\n    },\n    {\n      \"Sid\": \"AllowAutoscalingDescribe\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"autoscaling:DescribeLifecycleHooks\",\n        \"autoscaling:DescribeAutoScalingInstances\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "policy_id": "ANPAJSSO4SSU6TOBL4UOW",
            "tags": {},
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.cpc-front.aws_autoscaling_group.main",
            "module.cpc-front.aws_iam_instance_profile.main",
            "module.cpc-front.aws_launch_configuration.main",
            "module.cpc-front.aws_security_group.main",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "cwl_ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-front-cwl-ec2",
            "description": "",
            "id": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-front-cwl-ec2",
            "name": "tars-opsdev-cpc-cpc-front-cwl-ec2",
            "name_prefix": null,
            "path": "/",
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowPutCloudwatchLogs\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:DescribeLogStreams\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": \"arn:aws:logs:eu-west-1:652856684323:log-group:/aws/ec2/tars-opsdev-cpc/cpc-front/cloud-init-output:*\"\n    },\n    {\n      \"Sid\": \"AllowCreateLogGroup\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"logs:CreateLogGroup\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "policy_id": "ANPAJOVMX2YIE5PPKF26M",
            "tags": {},
            "tags_all": {}
          },
          "dependencies": [
            "module.cpc-front.aws_cloudwatch_log_group.ec2"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::652856684323:role/tars-opsdev-cpc-cpc-front-20180620132056775900000003",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2018-06-20T13:19:22Z",
            "description": "",
            "force_detach_policies": false,
            "id": "tars-opsdev-cpc-cpc-front-20180620132056775900000003",
            "inline_policy": [
              {
                "name": "",
                "policy": ""
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::652856684323:policy/tars-nonprod-acc-kms-hieradata-user",
              "arn:aws:iam::652856684323:policy/tars-opsdev-base-cloudwatch",
              "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-front-bootstrap-20190128144132354200000007",
              "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-front-cwl-ec2",
              "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
            ],
            "max_session_duration": 3600,
            "name": "tars-opsdev-cpc-cpc-front-20180620132056775900000003",
            "name_prefix": "tars-opsdev-cpc-cpc-front-",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAIHY4NYKTDSPBKVI2I"
          },
          "dependencies": [
            "module.cpc-front.data.aws_iam_policy_document.ec2_assume_role"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "aws_ssm_managed_instance_core",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-front-20180620132056775900000003-20210813103806264200000004",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
            "role": "tars-opsdev-cpc-cpc-front-20180620132056775900000003"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.cpc-front.aws_iam_role.main"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "bootstrap",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-front-20180620132056775900000003-2019012814413311490000000c",
            "policy_arn": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-front-bootstrap-20190128144132354200000007",
            "role": "tars-opsdev-cpc-cpc-front-20180620132056775900000003"
          },
          "dependencies": [
            "module.cpc-front.aws_autoscaling_group.main",
            "module.cpc-front.aws_iam_instance_profile.main",
            "module.cpc-front.aws_iam_policy.bootstrap",
            "module.cpc-front.aws_iam_role.main",
            "module.cpc-front.aws_launch_configuration.main",
            "module.cpc-front.aws_security_group.main",
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cwl_ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-front-20180620132056775900000003-20190215111748058800000003",
            "policy_arn": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-front-cwl-ec2",
            "role": "tars-opsdev-cpc-cpc-front-20180620132056775900000003"
          },
          "dependencies": [
            "module.cpc-front.aws_cloudwatch_log_group.ec2",
            "module.cpc-front.aws_iam_policy.cwl_ec2",
            "module.cpc-front.aws_iam_role.main"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_launch_template",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:launch-template/lt-028d3ae0a92220425",
            "block_device_mappings": [
              {
                "device_name": "/dev/xvda",
                "ebs": [
                  {
                    "delete_on_termination": "",
                    "encrypted": "",
                    "iops": 0,
                    "kms_key_id": "",
                    "snapshot_id": "",
                    "throughput": 0,
                    "volume_size": 16,
                    "volume_type": "gp3"
                  }
                ],
                "no_device": "",
                "virtual_name": ""
              }
            ],
            "capacity_reservation_specification": [],
            "cpu_options": [],
            "credit_specification": [],
            "default_version": 1,
            "description": "",
            "disable_api_termination": false,
            "ebs_optimized": "",
            "elastic_gpu_specifications": [],
            "elastic_inference_accelerator": [],
            "enclave_options": [],
            "hibernation_options": [],
            "iam_instance_profile": [
              {
                "arn": "",
                "name": "tars-opsdev-cpc-cpc-front-20180620132057713100000006"
              }
            ],
            "id": "lt-028d3ae0a92220425",
            "image_id": "ami-0a53b8cfd20906282",
            "instance_initiated_shutdown_behavior": "",
            "instance_market_options": [
              {
                "market_type": "spot",
                "spot_options": [
                  {
                    "block_duration_minutes": 0,
                    "instance_interruption_behavior": "",
                    "max_price": "0.0081",
                    "spot_instance_type": "",
                    "valid_until": ""
                  }
                ]
              }
            ],
            "instance_type": "m3.medium",
            "kernel_id": "",
            "key_name": "",
            "latest_version": 34,
            "license_specification": [],
            "metadata_options": [],
            "monitoring": [],
            "name": "tars-opsdev-cpc/cpc-front-20210129092653369100000001",
            "name_prefix": "tars-opsdev-cpc/cpc-front-",
            "network_interfaces": [],
            "placement": [],
            "ram_disk_id": "",
            "security_group_names": [],
            "tag_specifications": [
              {
                "resource_type": "volume",
                "tags": {
                  "Component": "cpc",
                  "Environment": "opsdev",
                  "Module": "microservice",
                  "Name": "tars-opsdev-cpc/cpc-front",
                  "Nodetype": "cpc-front",
                  "Project": "tars"
                }
              }
            ],
            "tags": {},
            "tags_all": {},
            "update_default_version": null,
            "user_data": "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",
            "vpc_security_group_ids": [
              "sg-0d3332285e95d0e17",
              "sg-e1802e9d"
            ]
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_ami.cpc-front",
            "data.cloudinit_config.cpc-front",
            "data.terraform_remote_state.base",
            "module.cpc-front.aws_iam_instance_profile.main",
            "module.cpc-front.aws_security_group.main"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.cpc-front",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:security-group/sg-0d3332285e95d0e17",
            "description": "tars-opsdev-cpc/cpc-front",
            "egress": [
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-b6c76cca",
                  "sg-fc78d680"
                ],
                "self": false,
                "to_port": 8080
              },
              {
                "cidr_blocks": [],
                "description": "Allow use of KMS endpoint",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [
                  "sg-0e832d72"
                ],
                "self": false,
                "to_port": 0
              },
              {
                "cidr_blocks": [],
                "description": "CPC egress TCP/9090 to gov gateway",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-02ef685dfd5e0a90a"
                ],
                "self": false,
                "to_port": 443
              }
            ],
            "id": "sg-0d3332285e95d0e17",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 7443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-d1da71ad"
                ],
                "self": false,
                "to_port": 7443
              },
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 8443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-030be28a13b81c5a0",
                  "sg-fdc46f81"
                ],
                "self": false,
                "to_port": 8443
              },
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 9443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-00cab1caed7fe4b47"
                ],
                "self": false,
                "to_port": 9443
              }
            ],
            "name": "tars-opsdev-cpc/cpc-front",
            "name_prefix": "",
            "owner_id": "652856684323",
            "revoke_rules_on_delete": false,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-front",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-front",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front.module.subnets",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-4e00cd35",
            "route_table_id": "rtb-7f357006",
            "subnet_id": "subnet-044ec662"
          },
          "dependencies": [
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-061dd07d",
            "route_table_id": "rtb-71327708",
            "subnet_id": "subnet-a1d843e9"
          },
          "dependencies": [
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-6903ce12",
            "route_table_id": "rtb-ae3075d7",
            "subnet_id": "subnet-2458927e"
          },
          "dependencies": [
            "module.cpc-front.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc-front.module.subnets",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "subnets",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:subnet/subnet-044ec662",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1a",
            "availability_zone_id": "euw1-az1",
            "cidr_block": "10.167.2.112/28",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-044ec662",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "652856684323",
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-front/eu-west-1a",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-front/eu-west-1a",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.aws_availability_zones.available",
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:subnet/subnet-a1d843e9",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1b",
            "availability_zone_id": "euw1-az2",
            "cidr_block": "10.167.2.128/28",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-a1d843e9",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "652856684323",
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-front/eu-west-1b",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-front/eu-west-1b",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.aws_availability_zones.available",
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:subnet/subnet-2458927e",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1c",
            "availability_zone_id": "euw1-az3",
            "cidr_block": "10.167.2.144/28",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-2458927e",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "652856684323",
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-front/eu-west-1c",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-front/eu-west-1c",
              "Project": "tars"
            },
            "timeouts": {
              "create": null,
              "delete": null
            },
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.aws_availability_zones.available",
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "bootstrap",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2716148584",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowLifecycleHookLaunchingCompletion\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"autoscaling:CompleteLifecycleAction\",\n      \"Resource\": \"arn:aws:autoscaling:eu-west-1:652856684323:autoScalingGroup:e44c76ff-1e71-4cdd-b61c-c052899e50df:autoScalingGroupName/tars-opsdev-cpc/cpc-batch\"\n    },\n    {\n      \"Sid\": \"AllowAutoscalingDescribe\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"autoscaling:DescribeLifecycleHooks\",\n        \"autoscaling:DescribeAutoScalingInstances\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "autoscaling:CompleteLifecycleAction"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:autoscaling:eu-west-1:652856684323:autoScalingGroup:e44c76ff-1e71-4cdd-b61c-c052899e50df:autoScalingGroupName/tars-opsdev-cpc/cpc-batch"
                ],
                "sid": "AllowLifecycleHookLaunchingCompletion"
              },
              {
                "actions": [
                  "autoscaling:DescribeAutoScalingInstances",
                  "autoscaling:DescribeLifecycleHooks"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "AllowAutoscalingDescribe"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "cwl_ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "3172286264",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowPutCloudwatchLogs\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:DescribeLogStreams\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": \"arn:aws:logs:eu-west-1:652856684323:log-group:/aws/ec2/tars-opsdev-cpc/cpc-batch/cloud-init-output:*\"\n    },\n    {\n      \"Sid\": \"AllowCreateLogGroup\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"logs:CreateLogGroup\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "logs:CreateLogStream",
                  "logs:DescribeLogStreams",
                  "logs:PutLogEvents"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:logs:eu-west-1:652856684323:log-group:/aws/ec2/tars-opsdev-cpc/cpc-batch/cloud-init-output:*"
                ],
                "sid": "AllowPutCloudwatchLogs"
              },
              {
                "actions": [
                  "logs:CreateLogGroup"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "AllowCreateLogGroup"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "ec2_assume_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1903849331",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "ec2.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_autoscaling_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:autoscaling:eu-west-1:652856684323:autoScalingGroup:e44c76ff-1e71-4cdd-b61c-c052899e50df:autoScalingGroupName/tars-opsdev-cpc/cpc-batch",
            "availability_zones": [
              "eu-west-1a",
              "eu-west-1b",
              "eu-west-1c"
            ],
            "capacity_rebalance": false,
            "default_cooldown": 300,
            "desired_capacity": 1,
            "enabled_metrics": [
              "GroupDesiredCapacity",
              "GroupInServiceInstances",
              "GroupMaxSize",
              "GroupMinSize",
              "GroupPendingInstances",
              "GroupTerminatingInstances",
              "GroupTotalInstances"
            ],
            "force_delete": false,
            "force_delete_warm_pool": false,
            "health_check_grace_period": 300,
            "health_check_type": "EC2",
            "id": "tars-opsdev-cpc/cpc-batch",
            "initial_lifecycle_hook": [],
            "instance_refresh": [],
            "launch_configuration": "",
            "launch_template": [
              {
                "id": "lt-0673fde23f4830f73",
                "name": "tars-opsdev-cpc/cpc-batch-20210907101821274500000006",
                "version": "$Latest"
              }
            ],
            "load_balancers": [],
            "max_instance_lifetime": 0,
            "max_size": 1,
            "metrics_granularity": "1Minute",
            "min_elb_capacity": null,
            "min_size": 0,
            "mixed_instances_policy": [],
            "name": "tars-opsdev-cpc/cpc-batch",
            "name_prefix": "",
            "placement_group": "",
            "protect_from_scale_in": false,
            "service_linked_role_arn": "arn:aws:iam::652856684323:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
            "suspended_processes": [],
            "tag": [],
            "tags": [
              {
                "key": "Component",
                "propagate_at_launch": "true",
                "value": "cpc"
              },
              {
                "key": "Environment",
                "propagate_at_launch": "true",
                "value": "opsdev"
              },
              {
                "key": "Group",
                "propagate_at_launch": "true",
                "value": "nonprod"
              },
              {
                "key": "Module",
                "propagate_at_launch": "true",
                "value": "microservice"
              },
              {
                "key": "Name",
                "propagate_at_launch": "true",
                "value": "tars-opsdev-cpc/cpc-batch"
              },
              {
                "key": "Nodetype",
                "propagate_at_launch": "true",
                "value": "cpc-batch"
              },
              {
                "key": "Project",
                "propagate_at_launch": "true",
                "value": "tars"
              }
            ],
            "target_group_arns": [],
            "termination_policies": [
              "OldestInstance",
              "OldestLaunchConfiguration",
              "ClosestToNextInstanceHour"
            ],
            "timeouts": null,
            "vpc_zone_identifier": [
              "subnet-cfd84387",
              "subnet-d54ec6b3",
              "subnet-f9408aa3"
            ],
            "wait_for_capacity_timeout": "10m",
            "wait_for_elb_capacity": null,
            "warm_pool": []
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "data.aws_ami.cpc-batch",
            "data.cloudinit_config.cpc-batch",
            "data.terraform_remote_state.base",
            "module.cpc-back.module.subnets.aws_subnet.subnets",
            "module.cpc_batch.aws_iam_instance_profile.main",
            "module.cpc_batch.aws_iam_role.main",
            "module.cpc_batch.aws_launch_template.main",
            "module.cpc_batch.aws_security_group.main",
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role",
            "module.cpc_batch.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_autoscaling_lifecycle_hook",
      "name": "launching",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "autoscaling_group_name": "tars-opsdev-cpc/cpc-batch",
            "default_result": "ABANDON",
            "heartbeat_timeout": 500,
            "id": "tars-opsdev-cpc/cpc-batch/launching",
            "lifecycle_transition": "autoscaling:EC2_INSTANCE_LAUNCHING",
            "name": "tars-opsdev-cpc/cpc-batch/launching",
            "notification_metadata": "",
            "notification_target_arn": "",
            "role_arn": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_ami.cpc-batch",
            "data.cloudinit_config.cpc-batch",
            "data.terraform_remote_state.base",
            "module.cpc-back.module.subnets.aws_subnet.subnets",
            "module.cpc_batch.aws_autoscaling_group.main",
            "module.cpc_batch.aws_iam_instance_profile.main",
            "module.cpc_batch.aws_iam_role.main",
            "module.cpc_batch.aws_launch_template.main",
            "module.cpc_batch.aws_security_group.main",
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role",
            "module.cpc_batch.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_cloudwatch_event_rule",
      "name": "failed_lifecycle_actions",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:events:eu-west-1:652856684323:rule/tars-opsdev-cpc-cpc-batch-failed-lifecycle-actions",
            "description": "Alert on failed autoscaling lifecycle actions",
            "event_bus_name": "default",
            "event_pattern": "{\"detail\":{\"AutoScalingGroupName\":[\"tars-opsdev-cpc/cpc-batch\"]},\"detail-type\":[\"EC2 Instance Launch Unsuccessful\",\"EC2 Instance Terminate Unsuccessful\"],\"source\":[\"aws.autoscaling\"]}",
            "id": "tars-opsdev-cpc-cpc-batch-failed-lifecycle-actions",
            "is_enabled": true,
            "name": "tars-opsdev-cpc-cpc-batch-failed-lifecycle-actions",
            "name_prefix": "",
            "role_arn": "",
            "schedule_expression": "",
            "tags": {},
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_ami.cpc-batch",
            "data.cloudinit_config.cpc-batch",
            "data.terraform_remote_state.base",
            "module.cpc-back.module.subnets.aws_subnet.subnets",
            "module.cpc_batch.aws_autoscaling_group.main",
            "module.cpc_batch.aws_iam_instance_profile.main",
            "module.cpc_batch.aws_iam_role.main",
            "module.cpc_batch.aws_launch_template.main",
            "module.cpc_batch.aws_security_group.main",
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role",
            "module.cpc_batch.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_cloudwatch_event_target",
      "name": "sns",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:sns:eu-west-1:652856684323:tars-opsdev-base-alerts",
            "batch_target": [],
            "dead_letter_config": [],
            "ecs_target": [],
            "event_bus_name": "default",
            "http_target": [],
            "id": "tars-opsdev-cpc-cpc-batch-failed-lifecycle-actions-tars-opsdev-cpc-cpc-batch-failed-lifecycle-actions-target",
            "input": "",
            "input_path": "",
            "input_transformer": [
              {
                "input_paths": {
                  "asg": "$.detail.AutoScalingGroupName",
                  "cause": "$.detail.EC2InstanceId",
                  "event": "$.detail.StatusMessage"
                },
                "input_template": "{\n  \"Matcher\":     \"AutoScaling\",\n  \"Description\": \u003casg\u003e,\n  \"Event\":       \u003cevent\u003e,\n  \"Cause\":       \u003ccause\u003e\n}"
              }
            ],
            "kinesis_target": [],
            "retry_policy": [],
            "role_arn": "",
            "rule": "tars-opsdev-cpc-cpc-batch-failed-lifecycle-actions",
            "run_command_targets": [],
            "sqs_target": [],
            "target_id": "tars-opsdev-cpc-cpc-batch-failed-lifecycle-actions-target"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.aws_ami.cpc-batch",
            "data.cloudinit_config.cpc-batch",
            "data.terraform_remote_state.base",
            "module.cpc-back.module.subnets.aws_subnet.subnets",
            "module.cpc_batch.aws_autoscaling_group.main",
            "module.cpc_batch.aws_cloudwatch_event_rule.failed_lifecycle_actions",
            "module.cpc_batch.aws_iam_instance_profile.main",
            "module.cpc_batch.aws_iam_role.main",
            "module.cpc_batch.aws_launch_template.main",
            "module.cpc_batch.aws_security_group.main",
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role",
            "module.cpc_batch.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:eu-west-1:652856684323:log-group:/aws/ec2/tars-opsdev-cpc/cpc-batch/cloud-init-output",
            "id": "/aws/ec2/tars-opsdev-cpc/cpc-batch/cloud-init-output",
            "kms_key_id": "",
            "name": "/aws/ec2/tars-opsdev-cpc/cpc-batch/cloud-init-output",
            "name_prefix": null,
            "retention_in_days": 30,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "/aws/ec2/tars-opsdev-cpc/cpc-batch/cloud-init-output",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "/aws/ec2/tars-opsdev-cpc/cpc-batch/cloud-init-output",
              "Project": "tars"
            }
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::652856684323:instance-profile/tars-opsdev-cpc-cpc-batch-20210907101820205400000002",
            "create_date": "2021-09-07T10:18:20Z",
            "id": "tars-opsdev-cpc-cpc-batch-20210907101820205400000002",
            "name": "tars-opsdev-cpc-cpc-batch-20210907101820205400000002",
            "name_prefix": "tars-opsdev-cpc-cpc-batch-",
            "path": "/",
            "role": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001",
            "tags": {},
            "tags_all": {},
            "unique_id": "AIPAZQAKKN4RQK7PYAFUU"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.cpc_batch.aws_iam_role.main",
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role"
          ]
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "bootstrap",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-batch-bootstrap-20210907101833175600000009",
            "description": "",
            "id": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-batch-bootstrap-20210907101833175600000009",
            "name": "tars-opsdev-cpc-cpc-batch-bootstrap-20210907101833175600000009",
            "name_prefix": "tars-opsdev-cpc-cpc-batch-bootstrap-",
            "path": "/",
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowLifecycleHookLaunchingCompletion\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"autoscaling:CompleteLifecycleAction\",\n      \"Resource\": \"arn:aws:autoscaling:eu-west-1:652856684323:autoScalingGroup:e44c76ff-1e71-4cdd-b61c-c052899e50df:autoScalingGroupName/tars-opsdev-cpc/cpc-batch\"\n    },\n    {\n      \"Sid\": \"AllowAutoscalingDescribe\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"autoscaling:DescribeLifecycleHooks\",\n        \"autoscaling:DescribeAutoScalingInstances\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "policy_id": "ANPAZQAKKN4RTIWBGAGWR",
            "tags": {},
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_ami.cpc-batch",
            "data.cloudinit_config.cpc-batch",
            "data.terraform_remote_state.base",
            "module.cpc-back.module.subnets.aws_subnet.subnets",
            "module.cpc_batch.aws_autoscaling_group.main",
            "module.cpc_batch.aws_iam_instance_profile.main",
            "module.cpc_batch.aws_iam_role.main",
            "module.cpc_batch.aws_launch_template.main",
            "module.cpc_batch.aws_security_group.main",
            "module.cpc_batch.data.aws_iam_policy_document.bootstrap",
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role",
            "module.cpc_batch.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "cwl_ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-batch-cwl-ec2",
            "description": "",
            "id": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-batch-cwl-ec2",
            "name": "tars-opsdev-cpc-cpc-batch-cwl-ec2",
            "name_prefix": null,
            "path": "/",
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowPutCloudwatchLogs\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:DescribeLogStreams\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": \"arn:aws:logs:eu-west-1:652856684323:log-group:/aws/ec2/tars-opsdev-cpc/cpc-batch/cloud-init-output:*\"\n    },\n    {\n      \"Sid\": \"AllowCreateLogGroup\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"logs:CreateLogGroup\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "policy_id": "ANPAZQAKKN4RQ4BSCCGJV",
            "tags": {},
            "tags_all": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.cpc_batch.aws_cloudwatch_log_group.ec2",
            "module.cpc_batch.data.aws_iam_policy_document.cwl_ec2"
          ]
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::652856684323:role/tars-opsdev-cpc-cpc-batch-20210907101818895600000001",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2021-09-07T10:18:19Z",
            "description": "",
            "force_detach_policies": false,
            "id": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001",
            "inline_policy": [
              {
                "name": "",
                "policy": ""
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::652856684323:policy/tars-nonprod-acc-kms-hieradata-user",
              "arn:aws:iam::652856684323:policy/tars-opsdev-base-cloudwatch",
              "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-batch-bootstrap-20210907101833175600000009",
              "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-batch-cwl-ec2",
              "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore"
            ],
            "max_session_duration": 3600,
            "name": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001",
            "name_prefix": "tars-opsdev-cpc-cpc-batch-",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAZQAKKN4R6X7X3ULKK"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role"
          ]
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "aws_ssm_managed_instance_core",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001-20210907101820573700000003",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
            "role": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.cpc_batch.aws_iam_role.main",
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role"
          ]
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "bootstrap",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001-2021090710183450400000000a",
            "policy_arn": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-batch-bootstrap-20210907101833175600000009",
            "role": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_ami.cpc-batch",
            "data.cloudinit_config.cpc-batch",
            "data.terraform_remote_state.base",
            "module.cpc-back.module.subnets.aws_subnet.subnets",
            "module.cpc_batch.aws_autoscaling_group.main",
            "module.cpc_batch.aws_iam_instance_profile.main",
            "module.cpc_batch.aws_iam_policy.bootstrap",
            "module.cpc_batch.aws_iam_role.main",
            "module.cpc_batch.aws_launch_template.main",
            "module.cpc_batch.aws_security_group.main",
            "module.cpc_batch.data.aws_iam_policy_document.bootstrap",
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role",
            "module.cpc_batch.module.subnets.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cwl_ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001-20210907101821540500000008",
            "policy_arn": "arn:aws:iam::652856684323:policy/tars-opsdev-cpc-cpc-batch-cwl-ec2",
            "role": "tars-opsdev-cpc-cpc-batch-20210907101818895600000001"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.cpc_batch.aws_cloudwatch_log_group.ec2",
            "module.cpc_batch.aws_iam_policy.cwl_ec2",
            "module.cpc_batch.aws_iam_role.main",
            "module.cpc_batch.data.aws_iam_policy_document.cwl_ec2",
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role"
          ]
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_launch_template",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:launch-template/lt-0673fde23f4830f73",
            "block_device_mappings": [
              {
                "device_name": "/dev/xvda",
                "ebs": [
                  {
                    "delete_on_termination": "",
                    "encrypted": "",
                    "iops": 0,
                    "kms_key_id": "",
                    "snapshot_id": "",
                    "throughput": 0,
                    "volume_size": 16,
                    "volume_type": "gp3"
                  }
                ],
                "no_device": "",
                "virtual_name": ""
              }
            ],
            "capacity_reservation_specification": [],
            "cpu_options": [],
            "credit_specification": [],
            "default_version": 1,
            "description": "",
            "disable_api_termination": false,
            "ebs_optimized": "",
            "elastic_gpu_specifications": [],
            "elastic_inference_accelerator": [],
            "enclave_options": [],
            "hibernation_options": [],
            "iam_instance_profile": [
              {
                "arn": "",
                "name": "tars-opsdev-cpc-cpc-batch-20210907101820205400000002"
              }
            ],
            "id": "lt-0673fde23f4830f73",
            "image_id": "ami-007a146332acaeb06",
            "instance_initiated_shutdown_behavior": "",
            "instance_market_options": [
              {
                "market_type": "spot",
                "spot_options": [
                  {
                    "block_duration_minutes": 0,
                    "instance_interruption_behavior": "",
                    "max_price": "0.0081",
                    "spot_instance_type": "",
                    "valid_until": ""
                  }
                ]
              }
            ],
            "instance_type": "m3.medium",
            "kernel_id": "",
            "key_name": "",
            "latest_version": 1,
            "license_specification": [],
            "metadata_options": [],
            "monitoring": [],
            "name": "tars-opsdev-cpc/cpc-batch-20210907101821274500000006",
            "name_prefix": "tars-opsdev-cpc/cpc-batch-",
            "network_interfaces": [],
            "placement": [],
            "ram_disk_id": "",
            "security_group_names": [],
            "tag_specifications": [
              {
                "resource_type": "volume",
                "tags": {
                  "Component": "cpc",
                  "Environment": "opsdev",
                  "Module": "microservice",
                  "Name": "tars-opsdev-cpc/cpc-batch",
                  "Nodetype": "cpc-batch",
                  "Project": "tars"
                }
              }
            ],
            "tags": {},
            "tags_all": {},
            "update_default_version": null,
            "user_data": "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",
            "vpc_security_group_ids": [
              "sg-0737e84aeb236f07f",
              "sg-e1802e9d"
            ]
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_ami.cpc-batch",
            "data.cloudinit_config.cpc-batch",
            "data.terraform_remote_state.base",
            "module.cpc_batch.aws_iam_instance_profile.main",
            "module.cpc_batch.aws_iam_role.main",
            "module.cpc_batch.aws_security_group.main",
            "module.cpc_batch.data.aws_iam_policy_document.ec2_assume_role"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.cpc_batch",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:security-group/sg-0737e84aeb236f07f",
            "description": "tars-opsdev-cpc/cpc-batch",
            "egress": [
              {
                "cidr_blocks": [
                  "10.167.2.208/28",
                  "10.167.2.224/28",
                  "10.167.2.240/28"
                ],
                "description": "Allow TCP/15021 from SFTPPlus to CPC Batch",
                "from_port": 15021,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 15021
              },
              {
                "cidr_blocks": [
                  "51.231.10.112/32"
                ],
                "description": "Allow TCP/443 to DVLA Elise",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              },
              {
                "cidr_blocks": [],
                "description": "",
                "from_port": 2049,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-07d44bc911f29f674"
                ],
                "self": false,
                "to_port": 2049
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/1521 to CPC DB",
                "from_port": 1521,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-89c66df5"
                ],
                "self": false,
                "to_port": 1521
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/61617 to AWS MQ",
                "from_port": 61617,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-3c8a2440"
                ],
                "self": false,
                "to_port": 61617
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/8080 to TARS back ALB",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-fc78d680"
                ],
                "self": false,
                "to_port": 8080
              },
              {
                "cidr_blocks": [],
                "description": "Allow TCP/8080 to TARS mock ALB",
                "from_port": 8080,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-02ef685dfd5e0a90a"
                ],
                "self": false,
                "to_port": 8080
              },
              {
                "cidr_blocks": [],
                "description": "Allow use of KMS endpoint",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [
                  "sg-0e832d72"
                ],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0737e84aeb236f07f",
            "ingress": [],
            "name": "tars-opsdev-cpc/cpc-batch",
            "name_prefix": "",
            "owner_id": "652856684323",
            "revoke_rules_on_delete": false,
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-batch",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-batch",
              "Project": "tars"
            },
            "timeouts": null,
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "data.terraform_remote_state.base"
          ]
        }
      ]
    },
    {
      "module": "module.subnets_cpc_batch_efs",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0285cc294e25a42f0",
            "route_table_id": "rtb-7f357006",
            "subnet_id": "subnet-02f11d003dc36d22b"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_availability_zones.available",
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base",
            "module.subnets_cpc_batch_efs.aws_subnet.subnets"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0c42bd4a64d3422bd",
            "route_table_id": "rtb-71327708",
            "subnet_id": "subnet-070239ce8c771c2f4"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_availability_zones.available",
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base",
            "module.subnets_cpc_batch_efs.aws_subnet.subnets"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-084bc3a2fcd5ed93a",
            "route_table_id": "rtb-ae3075d7",
            "subnet_id": "subnet-0a6847d3d5145fd32"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_availability_zones.available",
            "data.aws_caller_identity.current",
            "data.terraform_remote_state.base",
            "module.subnets_cpc_batch_efs.aws_subnet.subnets"
          ]
        }
      ]
    },
    {
      "module": "module.subnets_cpc_batch_efs",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "subnets",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:subnet/subnet-02f11d003dc36d22b",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1a",
            "availability_zone_id": "euw1-az1",
            "cidr_block": "10.167.5.112/28",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-02f11d003dc36d22b",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "652856684323",
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-batch-efs/eu-west-1a",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-batch-efs/eu-west-1a",
              "Project": "tars"
            },
            "timeouts": null,
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.aws_availability_zones.available",
            "data.terraform_remote_state.base"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:subnet/subnet-070239ce8c771c2f4",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1b",
            "availability_zone_id": "euw1-az2",
            "cidr_block": "10.167.5.128/28",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-070239ce8c771c2f4",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "652856684323",
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-batch-efs/eu-west-1b",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-batch-efs/eu-west-1b",
              "Project": "tars"
            },
            "timeouts": null,
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.aws_availability_zones.available",
            "data.terraform_remote_state.base"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:652856684323:subnet/subnet-0a6847d3d5145fd32",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1c",
            "availability_zone_id": "euw1-az3",
            "cidr_block": "10.167.5.144/28",
            "customer_owned_ipv4_pool": "",
            "id": "subnet-0a6847d3d5145fd32",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "652856684323",
            "tags": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-batch-efs/eu-west-1c",
              "Project": "tars"
            },
            "tags_all": {
              "Component": "cpc",
              "Environment": "opsdev",
              "Module": "microservice",
              "Name": "tars-opsdev-cpc/cpc-batch-efs/eu-west-1c",
              "Project": "tars"
            },
            "timeouts": null,
            "vpc_id": "vpc-91eab8f7"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "data.aws_availability_zones.available",
            "data.terraform_remote_state.base"
          ]
        }
      ]
    }
  ]
}
